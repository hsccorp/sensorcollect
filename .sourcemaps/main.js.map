{"version":3,"sources":["../../node_modules/@angular/core/@angular lazy","../../src lazy","../../src/providers/common-utils/common-utils.ts","../../src/providers/sensors/sensors.ts","../../src/providers/database/database.ts","../../src/pages/view-trips/view-trips.ts","../../src/pages/alert-modal/alert-modal.ts","../../src/pages/ble/ble.ts","../../src/pages/home/home.ts","../../src/app/app.component.ts","../../src/components/progress-bar/progress-bar.ts","../../src/app/app.module.ts","../../src/app/app.module.ngfactory.ts","../../node_modules/moment/locale ^/.*$"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","Error","keys","module","exports","id","__decorate","this","decorators","target","key","desc","sensors___decorate","database___decorate","_super","webpackContext","__webpack_require__","webpackContextResolve","map","./af","./af.js","./ar","./ar-dz","./ar-dz.js","./ar-kw","./ar-kw.js","./ar-ly","./ar-ly.js","./ar-ma","./ar-ma.js","./ar-sa","./ar-sa.js","./ar-tn","./ar-tn.js","./ar.js","./az","./az.js","./be","./be.js","./bg","./bg.js","./bn","./bn.js","./bo","./bo.js","./br","./br.js","./bs","./bs.js","./ca","./ca.js","./cs","./cs.js","./cv","./cv.js","./cy","./cy.js","./da","./da.js","./de","./de-at","./de-at.js","./de-ch","./de-ch.js","./de.js","./dv","./dv.js","./el","./el.js","./en-au","./en-au.js","./en-ca","./en-ca.js","./en-gb","./en-gb.js","./en-ie","./en-ie.js","./en-nz","./en-nz.js","./eo","./eo.js","./es","./es-do","./es-do.js","./es.js","./et","./et.js","./eu","./eu.js","./fa","./fa.js","./fi","./fi.js","./fo","./fo.js","./fr","./fr-ca","./fr-ca.js","./fr-ch","./fr-ch.js","./fr.js","./fy","./fy.js","./gd","./gd.js","./gl","./gl.js","./gom-latn","./gom-latn.js","./he","./he.js","./hi","./hi.js","./hr","./hr.js","./hu","./hu.js","./hy-am","./hy-am.js","./id","./id.js","./is","./is.js","./it","./it.js","./ja","./ja.js","./jv","./jv.js","./ka","./ka.js","./kk","./kk.js","./km","./km.js","./kn","./kn.js","./ko","./ko.js","./ky","./ky.js","./lb","./lb.js","./lo","./lo.js","./lt","./lt.js","./lv","./lv.js","./me","./me.js","./mi","./mi.js","./mk","./mk.js","./ml","./ml.js","./mr","./mr.js","./ms","./ms-my","./ms-my.js","./ms.js","./my","./my.js","./nb","./nb.js","./ne","./ne.js","./nl","./nl-be","./nl-be.js","./nl.js","./nn","./nn.js","./pa-in","./pa-in.js","./pl","./pl.js","./pt","./pt-br","./pt-br.js","./pt.js","./ro","./ro.js","./ru","./ru.js","./sd","./sd.js","./se","./se.js","./si","./si.js","./sk","./sk.js","./sl","./sl.js","./sq","./sq.js","./sr","./sr-cyrl","./sr-cyrl.js","./sr.js","./ss","./ss.js","./sv","./sv.js","./sw","./sw.js","./ta","./ta.js","./te","./te.js","./tet","./tet.js","./th","./th.js","./tl-ph","./tl-ph.js","./tlh","./tlh.js","./tr","./tr.js","./tzl","./tzl.js","./tzm","./tzm-latn","./tzm-latn.js","./tzm.js","./uk","./uk.js","./ur","./ur.js","./uz","./uz-latn","./uz-latn.js","./uz.js","./vi","./vi.js","./x-pseudo","./x-pseudo.js","./yo","./yo.js","./zh-cn","./zh-cn.js","./zh-hk","./zh-hk.js","./zh-tw","./zh-tw.js","Object"],"mappings":"oCAAA,SAAAA,EAAAC,GAGA,OAAAC,QAAAC,UAAAC,KAAA,WACA,MAAA,IAAAC,MAAA,uBAAAJ,EAAA,QAGAD,EAAAM,KAAA,WAA4C,UAC5CN,EAAAG,QAAAH,EACAO,EAAAC,QAAAR,EACAA,EAAAS,GAAA,uBCVA,SAAAT,EAAAC,GAGA,OAAAC,QAAAC,UAAAC,KAAA,WACA,MAAA,IAAAC,MAAA,uBAAAJ,EAAA,QAGAD,EAAAM,KAAA,WAA4C,UAC5CN,EAAAG,QAAAH,EACAO,EAAAC,QAAAR,EACAA,EAAAS,GAAA,y1gCCVAC,UAAAC,MAAAA,KAAAD,YAAA,SAAAE,EAAAC,EAAAC,EAAAC,8bAmByB,6xDAAA,wZCnBzBC,EAAAL,MAAAA,KAAAD,YAAA,SAAAE,EAAAC,EAAAC,EAAAC,6bAiBqB,8zBAAA,4XCjBrBE,GAAAN,MAAAA,KAAAD,YAAA,SAAAE,EAAAC,EAAAC,EAAAC,+bAuBsB,+uJAAA,grBCPH,spDAAA,MCHC,0hBAAA,gBCGP,65BAAA,y1CC4CC,k0YAAA,MC9CH,sIAAA,MCHe,+BAAA,MCmCX,+BAAA,2kFC4CQ,SAAAG,4ukBAAA,qGC8IvB,SAAAC,EAAAlB,GACA,OAAAmB,EAAAC,EAAApB,IAEA,SAAAoB,EAAApB,GACA,IAAAQ,EAAAa,EAAArB,GACA,KAAAQ,EAAA,GACA,MAAA,IAAAJ,MAAA,uBAAAJ,EAAA,MACA,OAAAQ,EA/OA,IAAAa,GACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,gBAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,UAAA,IACAC,aAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,UAAA,IACAC,aAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,YAAA,IACAC,eAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,UAAA,IACAC,aAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,QAAA,IACAC,aAAA,IACAC,gBAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,YAAA,IACAC,eAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,gBAAA,IACAC,OAAA,IACAC,UAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,KAWAzO,EAAAb,KAAA,WACA,OAAAuP,OAAAvP,KAAAgB,IAEAH,EAAAhB,QAAAkB,EACAd,EAAAC,QAAAW,EACAA,EAAAV,GAAA","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 172;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 172\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 185;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 185\n// module chunks = 0","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nimport { Injectable } from '@angular/core';\nimport { ToastController, LoadingController, AlertController } from 'ionic-angular';\nimport { Observable } from 'rxjs/Rx';\nimport * as moment from 'moment';\nimport { AppVersion } from '@ionic-native/app-version';\nimport { Platform } from 'ionic-angular';\nimport { Http } from '@angular/http';\nimport 'rxjs/add/operator/map';\nvar versionUrl = \"https://api.github.com/repos/hsccorp/sensorcollect/releases/latest\";\n// TBD: firebase stuff is here too - need to move it out to its own service\nvar CommonUtilsProvider = (function () {\n    function CommonUtilsProvider(toastCtrl, loadingCtrl, alert, appVersion, plt, http) {\n        var _this = this;\n        this.toastCtrl = toastCtrl;\n        this.loadingCtrl = loadingCtrl;\n        this.alert = alert;\n        this.appVersion = appVersion;\n        this.plt = plt;\n        this.http = http;\n        this.version = \"undefined\";\n        plt.ready().then(function () {\n            _this.appVersion.getVersionNumber()\n                .then(function (ver) { _this.version = ver; console.log(\"version=\" + ver); });\n        });\n    }\n    CommonUtilsProvider.prototype.getRemoteVersion = function () {\n        var _this = this;\n        var url = versionUrl;\n        return new Promise(function (resolve, reject) {\n            _this.http.get(url).map(function (res) { return res.json(); }).subscribe(function (data) {\n                var ver = data.tag_name;\n                ver = ver.replace(\"v\", \"\");\n                console.log(\"Latest app version:\" + JSON.stringify(ver));\n                resolve(ver);\n            }, function (err) { console.log(\"Latest App version error:\" + JSON.stringify(err)); reject(err); });\n        });\n    };\n    // returns app version\n    CommonUtilsProvider.prototype.getVersion = function () {\n        return this.version;\n    };\n    // pass -1 to dur for infinite\n    CommonUtilsProvider.prototype.presentLoader = function (text, dur, remove) {\n        if (dur === void 0) { dur = 6000; }\n        if (remove === void 0) { remove = true; }\n        if (this.loader && remove) {\n            this.loader.dismiss();\n        }\n        this.loader = this.loadingCtrl.create({\n            content: text,\n            duration: dur\n        });\n        this.loader.present();\n    };\n    CommonUtilsProvider.prototype.removeLoader = function () {\n        if (this.loader) {\n            this.loader.dismiss();\n        }\n    };\n    // wrapper to present a toast with different colors\n    // error = red\n    // any other val = green\n    CommonUtilsProvider.prototype.presentToast = function (text, type, dur) {\n        var cssClass = 'successToast';\n        if (type == 'error')\n            cssClass = 'errorToast';\n        var toast = this.toastCtrl.create({\n            message: text,\n            duration: dur || 1800,\n            position: 'top',\n            cssClass: cssClass\n        });\n        toast.present();\n    };\n    //credit: https://gist.github.com/alexey-bass/1115557\n    CommonUtilsProvider.prototype.versionCompare = function (left, right) {\n        if (typeof left + typeof right != 'stringstring')\n            return false;\n        var a = left.split('.');\n        var b = right.split('.');\n        var i = 0;\n        var len = Math.max(a.length, b.length);\n        for (; i < len; i++) {\n            if ((a[i] && !b[i] && parseInt(a[i]) > 0) || (parseInt(a[i]) > parseInt(b[i]))) {\n                return 1;\n            }\n            else if ((b[i] && !a[i] && parseInt(b[i]) > 0) || (parseInt(a[i]) < parseInt(b[i]))) {\n                return -1;\n            }\n        }\n        return 0;\n    };\n    // start a trip timer\n    CommonUtilsProvider.prototype.startTimer = function (timer) {\n        this.timer = Observable.interval(1000)\n            .subscribe(function (x) { timer.time = \"(\" + moment.utc(x * 1000).format(\"HH:mm:ss\") + \")\"; });\n    };\n    // checks if obj is present in array a\n    CommonUtilsProvider.prototype.contains = function (a, obj) {\n        for (var i = 0; i < a.length; i++) {\n            if (a[i].id == obj.id) {\n                return true;\n            }\n        }\n        return false;\n    };\n    // stop trip timer\n    CommonUtilsProvider.prototype.stopTimer = function (timer) {\n        this.timer.unsubscribe();\n        timer.time = \"\";\n    };\n    return CommonUtilsProvider;\n}());\nCommonUtilsProvider = __decorate([\n    Injectable(),\n    __metadata(\"design:paramtypes\", [typeof (_a = typeof ToastController !== \"undefined\" && ToastController) === \"function\" && _a || Object, typeof (_b = typeof LoadingController !== \"undefined\" && LoadingController) === \"function\" && _b || Object, typeof (_c = typeof AlertController !== \"undefined\" && AlertController) === \"function\" && _c || Object, typeof (_d = typeof AppVersion !== \"undefined\" && AppVersion) === \"function\" && _d || Object, typeof (_e = typeof Platform !== \"undefined\" && Platform) === \"function\" && _e || Object, typeof (_f = typeof Http !== \"undefined\" && Http) === \"function\" && _f || Object])\n], CommonUtilsProvider);\nexport { CommonUtilsProvider };\nvar _a, _b, _c, _d, _e, _f;\n//# sourceMappingURL=common-utils.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/providers/common-utils/common-utils.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nimport { Injectable } from '@angular/core';\nimport { CommonUtilsProvider } from '../common-utils/common-utils';\nimport 'rxjs/add/operator/map';\nimport { DeviceMotion } from '@ionic-native/device-motion';\nimport { Gyroscope } from '@ionic-native/gyroscope';\nimport { Geolocation } from '@ionic-native/geolocation';\nimport { AndroidPermissions } from '@ionic-native/android-permissions';\n// Service to start/listen/unsubscribe sensors\nvar SensorsProvider = (function () {\n    function SensorsProvider(deviceMotion, gyroscope, perm, geo, utils) {\n        this.deviceMotion = deviceMotion;\n        this.gyroscope = gyroscope;\n        this.perm = perm;\n        this.geo = geo;\n        this.utils = utils;\n        this.freq = 500; // sampling freq for gps/gyr\n        console.log('Hello SensorsProvider Provider');\n    }\n    // unsubscribe from varios sensors\n    SensorsProvider.prototype.stopAllSensors = function () {\n        try {\n            this.accSub.unsubscribe();\n            this.gyrSub.unsubscribe();\n            //navigator.geolocation.clearWatch(this.sensorHandles.gpsSub); // not sure why this is needed\n            this.gpsSub.unsubscribe();\n        }\n        catch (e) {\n            console.log(\"stop sensor error: \" + e);\n        }\n    };\n    // start listening to sensors when trip starts\n    SensorsProvider.prototype.startAndStreamSensors = function (accCallback, gyrCallback, gpsCallback) {\n        var _this = this;\n        this.accSub = this.deviceMotion.watchAcceleration({ frequency: this.freq })\n            .subscribe(function (data) {\n            accCallback(data);\n        });\n        this.gyrSub = this.gyroscope.watch({ frequency: this.freq })\n            .subscribe(function (data) {\n            var dataClone = JSON.stringify(data);\n            gyrCallback(data);\n        });\n        this.perm.checkPermission(this.perm.PERMISSION.ACCESS_FINE_LOCATION)\n            .then(function (_) {\n            _this.gpsSub = _this.geo.watchPosition()\n                .subscribe(function (data) {\n                gpsCallback(data);\n            });\n        })\n            .catch(function (err) {\n            _this.utils.presentToast(\"Error latching to GPS\", \"error\");\n        });\n    };\n    return SensorsProvider;\n}());\nSensorsProvider = __decorate([\n    Injectable(),\n    __metadata(\"design:paramtypes\", [typeof (_a = typeof DeviceMotion !== \"undefined\" && DeviceMotion) === \"function\" && _a || Object, typeof (_b = typeof Gyroscope !== \"undefined\" && Gyroscope) === \"function\" && _b || Object, typeof (_c = typeof AndroidPermissions !== \"undefined\" && AndroidPermissions) === \"function\" && _c || Object, typeof (_d = typeof Geolocation !== \"undefined\" && Geolocation) === \"function\" && _d || Object, typeof (_e = typeof CommonUtilsProvider !== \"undefined\" && CommonUtilsProvider) === \"function\" && _e || Object])\n], SensorsProvider);\nexport { SensorsProvider };\nvar _a, _b, _c, _d, _e;\n//# sourceMappingURL=sensors.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/providers/sensors/sensors.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nimport { Injectable } from '@angular/core';\nimport { ToastController, LoadingController, AlertController } from 'ionic-angular';\nimport { CommonUtilsProvider } from '../common-utils/common-utils';\nimport { AngularFireDatabase } from 'angularfire2/database';\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport * as firebase from 'firebase/app';\nimport { FirebaseApp } from 'angularfire2';\nimport 'firebase/storage';\nimport { Storage } from '@ionic/storage';\nimport { File } from '@ionic-native/file';\nimport 'rxjs/add/operator/map';\nimport { Http } from '@angular/http';\nimport { NgZone } from '@angular/core';\n// Commom DB class that abstracts cloud DB and local SQLite DB\nvar DatabaseProvider = (function () {\n    function DatabaseProvider(toastCtrl, loadingCtrl, file, storage, alert, utils, zone, http, afDb, afAuth, fb) {\n        this.toastCtrl = toastCtrl;\n        this.loadingCtrl = loadingCtrl;\n        this.file = file;\n        this.storage = storage;\n        this.alert = alert;\n        this.utils = utils;\n        this.zone = zone;\n        this.http = http;\n        this.afDb = afDb;\n        this.afAuth = afAuth;\n        this.fb = fb;\n        this.logFile = 'triplog.txt';\n        this.user = { email: '', password: '' };\n        storage.ready().then(function () {\n            console.log(\"Storage engine is:\" + storage.driver);\n        });\n    }\n    // create an empty log file on start if needed\n    DatabaseProvider.prototype.init = function () {\n        var _this = this;\n        this.file.checkFile(this.file.dataDirectory, this.logFile)\n            .then(function (succ) { console.log(\"log file exists\"); })\n            .catch(function (_) { console.log(\"**CREATING LOG\"); _this.file.createFile(_this.file.dataDirectory, _this.logFile, true); });\n        this.getPendingUpload()\n            .then(function (succ) {\n            if (succ == undefined) {\n                console.log(\"CLEARING PENDING\");\n                _this.setPendingUpload(false);\n            }\n        });\n    };\n    /****  LOCAL DB RELATED ******/\n    // write a text string to the logs - used for headers at the start and end \n    // of a trip\n    DatabaseProvider.prototype.writeString = function (str) {\n        console.log(this.file.dataDirectory + \" \" + this.logFile + \" \" + str);\n        return this.file.writeFile(this.file.dataDirectory, this.logFile, str, { replace: false, append: true });\n    };\n    // dump a fragment of logs to a file \n    DatabaseProvider.prototype.writeLog = function (logs_object, removeLastComma) {\n        if (removeLastComma === void 0) { removeLastComma = false; }\n        // don't JSON stringify full array as these are chunks\n        var str = \"\";\n        for (var i = 0; i < logs_object.length - 1; i++) {\n            str = str + \"              \" + JSON.stringify(logs_object[i]) + \",\" + \"\\n\";\n        }\n        str = str + \"              \" + JSON.stringify([logs_object[logs_object.length - 1]]);\n        if (!removeLastComma)\n            str = str + \",\";\n        str = str + \"\\n\";\n        return this.file.writeFile(this.file.dataDirectory, this.logFile, str, { replace: false, append: true });\n    };\n    DatabaseProvider.prototype.logFileLocation = function () {\n        return this.file.dataDirectory + this.logFile;\n    };\n    DatabaseProvider.prototype.deleteLog = function () {\n        return this.file.writeFile(this.file.dataDirectory, \"triplog.txt\", \"\", { replace: true });\n    };\n    // called if credentials are wrong, so user is prompted again\n    DatabaseProvider.prototype.clearUser = function () {\n        console.log(\"clearing user\");\n        this.user.email = \"\";\n        this.user.password = \"\";\n        this.storage.remove('user')\n            .catch(function (e) { console.log(\"user clear error:\" + JSON.stringify(e)); });\n    };\n    DatabaseProvider.prototype.getUser = function () {\n        return this.storage.get('user');\n    };\n    DatabaseProvider.prototype.setPendingUpload = function (status, name) {\n        if (name === void 0) { name = \"\"; }\n        console.log(\"Pending called with \" + status + \" \" + name);\n        return this.storage.set('pendingUpload', { status: status, name: name });\n    };\n    DatabaseProvider.prototype.getPendingUpload = function () {\n        return this.storage.get('pendingUpload');\n    };\n    DatabaseProvider.prototype.getCachedUser = function () {\n        return this.user;\n    };\n    /****  FIREBASE DB RELATED ******/\n    // if the app user has not provided credentials for firebase DB, this will ask\n    // for it. \n    DatabaseProvider.prototype.promptForPassword = function () {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            var alert = _this.alert.create({\n                title: 'Database authorization',\n                message: 'Please enter database password',\n                inputs: [{\n                        name: 'email',\n                        value: 'mltrainer@hsc.com',\n                        type: 'email'\n                    },\n                    {\n                        name: 'password',\n                        placeholder: 'Password',\n                        type: 'password'\n                    }\n                ],\n                buttons: [\n                    {\n                        text: 'Cancel',\n                        role: 'cancel',\n                        handler: function (data) { reject(data); }\n                    },\n                    {\n                        text: 'Ok',\n                        handler: function (data) {\n                            console.log(\"Saving \" + JSON.stringify(data));\n                            _this.storage.set('user', data);\n                            resolve(data);\n                        }\n                    },\n                ],\n            });\n            alert.present();\n        });\n    };\n    DatabaseProvider.prototype.doAuthWithPrompt = function () {\n        var _this = this;\n        return this.getUser()\n            .then(function (user) {\n            //console.log(\"Got user:\" + JSON.stringify(user));\n            if (user == undefined || !user.email || !user.password) {\n                return _this.promptForPassword()\n                    .then(function (data) {\n                    return _this.doAuth(data.email, data.password);\n                });\n            }\n            else {\n                console.log(\"doAuthWithPassword callign doAuth\");\n                return _this.doAuth(user.email, user.password);\n            }\n            ;\n        })\n            .catch(function (e) { return Promise.reject(false); });\n    };\n    DatabaseProvider.prototype.doAuth = function (u, p) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            console.log(\"->Inside doAuth with \" + u + \":\" + p);\n            _this.user.email = u;\n            _this.user.password = p;\n            _this.afAuth.auth.signInWithEmailAndPassword(u, p)\n                .then(function (succ) {\n                console.log(\"**** Signed in\");\n                resolve(succ);\n            })\n                .catch(function (error) {\n                console.log(\"Auth Error:\" + JSON.stringify(error));\n                _this.utils.presentToast(error[\"code\"], \"error\");\n                _this.clearUser();\n                reject(error);\n            });\n        });\n    };\n    // deletes a trip from firebase DB and firebase storage\n    DatabaseProvider.prototype.removeTripStorage = function (store) {\n        console.log(\"Storage: \" + store);\n        // also delete the actual log file associated to the DB\n        var sref = this.fb.storage().ref().child(store);\n        sref.delete()\n            .then(function (succ) { console.log(\"Storage deleted too\"); })\n            .catch(function (err) { console.log(\"Error deleting storage:\" + JSON.stringify(err)); });\n    };\n    // called in view trips - attaches to DB list in firebase and updates\n    // view. TBD - move view code to view trips\n    DatabaseProvider.prototype.getTripsInDB = function () {\n        // any time data changes, this event will be called\n        // so deletions are automatically taken care of\n        return this.afDb.list('tripDataIndex/', {\n            query: {\n                orderByChild: 'createdOn',\n                limitToFirst: 300\n            }\n        });\n    };\n    DatabaseProvider.prototype.getDBIndex = function () {\n        return this.fb.database().ref('tripDataIndex/');\n    };\n    // upload trip data to firebase. called by doAuth\n    // after all auth validation is done\n    DatabaseProvider.prototype.uploadDataToFirebase = function (name, prg) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            console.log(\"cloud upload called for \" + name);\n            //this.presentLoader(\"loading...\");\n            var storageRef = _this.fb.storage().ref();\n            console.log(\"storage ref is \" + storageRef);\n            return _this.file.readAsArrayBuffer(_this.file.dataDirectory, _this.logFile)\n                .then(function (succ) {\n                console.log(\"File read\");\n                console.log(succ);\n                var blob = new Blob([succ], { type: \"text/plain\" });\n                console.log(\"Blob  created\");\n                var uploadUrl = storageRef.child(\"tripdata/\" + name + \".txt\");\n                var uploadTask = uploadUrl.put(blob);\n                uploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED, function (snapshot) {\n                    var progress = Math.round((snapshot.bytesTransferred / snapshot.totalBytes) * 100);\n                    if (prg)\n                        prg.val = progress;\n                }, function (error) {\n                    console.log(\"Firebase put error \" + JSON.stringify(error));\n                    setTimeout(function () { prg.val = -1; }, 500);\n                    _this.utils.presentToast(\"upload error\", \"error\");\n                    reject(error);\n                }, function () {\n                    prg.val = 100;\n                    setTimeout(function () { prg.val = -1; }, 500);\n                    // write download URL to realtime DB so we can iter it later\n                    // there is no API in storage today to iterate\n                    var downloadURL = uploadTask.snapshot.downloadURL;\n                    console.log(\"Download url is \" + downloadURL);\n                    //let key = 'tripDataIndex/'+name;\n                    //console.log (\"key=\"+key);\n                    var revDate = 0 - new Date().getTime();\n                    _this.afDb.list('tripDataIndex/').push({\n                        //firebase.database().ref('tripDataIndex/').push()\n                        //.set({\n                        'url': downloadURL,\n                        'uploadedon': Date(),\n                        'uploadedby': _this.user.email,\n                        'name': name,\n                        'version': _this.utils.getVersion(),\n                        'storageRef': \"tripdata/\" + name + \".txt\",\n                        'createdOn': revDate\n                    })\n                        .then(function (succ) { _this.utils.presentToast(\"upload complete\"); resolve(succ); })\n                        .catch(function (err) { console.log(\"ERROR \" + err); _this.utils.presentToast(\"error creating index\", \"error\"); reject(err); });\n                });\n            })\n                .catch(function (err) { console.log(\"Cordova Read Error \" + err); reject(err); });\n        }); // new promise\n    };\n    return DatabaseProvider;\n}());\nDatabaseProvider = __decorate([\n    Injectable(),\n    __metadata(\"design:paramtypes\", [typeof (_a = typeof ToastController !== \"undefined\" && ToastController) === \"function\" && _a || Object, typeof (_b = typeof LoadingController !== \"undefined\" && LoadingController) === \"function\" && _b || Object, typeof (_c = typeof File !== \"undefined\" && File) === \"function\" && _c || Object, typeof (_d = typeof Storage !== \"undefined\" && Storage) === \"function\" && _d || Object, typeof (_e = typeof AlertController !== \"undefined\" && AlertController) === \"function\" && _e || Object, typeof (_f = typeof CommonUtilsProvider !== \"undefined\" && CommonUtilsProvider) === \"function\" && _f || Object, typeof (_g = typeof NgZone !== \"undefined\" && NgZone) === \"function\" && _g || Object, typeof (_h = typeof Http !== \"undefined\" && Http) === \"function\" && _h || Object, typeof (_j = typeof AngularFireDatabase !== \"undefined\" && AngularFireDatabase) === \"function\" && _j || Object, typeof (_k = typeof AngularFireAuth !== \"undefined\" && AngularFireAuth) === \"function\" && _k || Object, typeof (_l = typeof FirebaseApp !== \"undefined\" && FirebaseApp) === \"function\" && _l || Object])\n], DatabaseProvider);\nexport { DatabaseProvider };\nvar _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l;\n//# sourceMappingURL=database.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/providers/database/database.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nimport { Component } from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\nimport { CommonUtilsProvider } from '../../providers/common-utils/common-utils';\nimport { DatabaseProvider } from '../../providers/database/database';\nimport { NgZone } from '@angular/core';\nimport { SocialSharing } from '@ionic-native/social-sharing';\nimport { InAppBrowser } from '@ionic-native/in-app-browser';\nvar ViewTripsPage = (function () {\n    function ViewTripsPage(navCtrl, navParams, utils, zone, socialSharing, iab, db) {\n        this.navCtrl = navCtrl;\n        this.navParams = navParams;\n        this.utils = utils;\n        this.zone = zone;\n        this.socialSharing = socialSharing;\n        this.iab = iab;\n        this.db = db;\n        this.status = { text: \"loading trips...\" };\n    }\n    // displays the trip log in a new window\n    ViewTripsPage.prototype.displayTrip = function (trip, slider) {\n        var _this = this;\n        slider.close();\n        this.utils.presentLoader(\"loading trip...\");\n        var browser = this.iab.create(trip.url, \"_blank\", \"enableViewPortScale=yes,closebuttoncaption=Done\");\n        browser.on('loadstop').subscribe(function (resp) { console.log(\"STOP\"); _this.utils.removeLoader(); });\n        browser.on('loaderror').subscribe(function (resp) { console.log(\"ERROR\"); _this.utils.removeLoader(); });\n    };\n    // tbd - this view already logs in, so relogin on \n    // delete likely not necc. need to read up on \n    // session validity\n    ViewTripsPage.prototype.delete = function (trip, si) {\n        si.close();\n        // make sure you are logged in as the same user\n        // as the trip you want to delete. ideally, this should\n        // be at the firebase auth layer. Maybe someday.\n        if (trip.uploadedby != this.db.getCachedUser().email && this.db.getCachedUser().email != \"arjun@hsc.com\") {\n            this.utils.presentToast(\"Trip not uploaded by you\", \"error\", 3000);\n            return;\n        }\n        var sref = trip.storageRef;\n        this.trips.remove(trip.$key);\n        this.db.removeTripStorage(sref);\n    };\n    // social sharing for the selected trip\n    ViewTripsPage.prototype.share = function (trip, slidingItem) {\n        var _this = this;\n        var f = trip.url;\n        var options = {\n            subject: trip.name + ' trip logs',\n            message: 'Trip logs attached',\n            files: [f],\n            chooserTitle: 'Share via...'\n        };\n        slidingItem.close();\n        this.socialSharing.shareWithOptions(options).then(function () {\n        }).catch(function () {\n            _this.utils.presentToast('Error sharing', 'error');\n        });\n    };\n    // iterates firebase and retrieves last 300 trips\n    // should be enough\n    // TBD: Handle offline error\n    ViewTripsPage.prototype.cloudGetTrips = function () {\n        var _this = this;\n        this.trips = this.db.getTripsInDB();\n        this.trips\n            .subscribe(function (items) {\n            console.log(\"***CHANGED***\");\n            //console.log (JSON.stringify(items));\n            _this.utils.removeLoader();\n        });\n    };\n    // authenticates and then downloads\n    ViewTripsPage.prototype.cloudGetTripsWithAuth = function () {\n        var _this = this;\n        this.db.doAuthWithPrompt()\n            .then(function (succ) { _this.cloudGetTrips(); })\n            .catch(function (err) { _this.utils.removeLoader(); });\n    };\n    ViewTripsPage.prototype.ionViewDidEnter = function () {\n        console.log('ionViewDidEnter ViewTripsPage');\n        this.utils.presentLoader(\"retrieving trips...\", 60000);\n        this.cloudGetTripsWithAuth();\n    };\n    ViewTripsPage.prototype.ionViewDidLoad = function () {\n        console.log('ionViewDidLoad ViewTripsPage');\n    };\n    return ViewTripsPage;\n}());\nViewTripsPage = __decorate([\n    Component({\n        selector: 'page-view-trips',\n        templateUrl: 'view-trips.html',\n    }),\n    __metadata(\"design:paramtypes\", [typeof (_a = typeof NavController !== \"undefined\" && NavController) === \"function\" && _a || Object, typeof (_b = typeof NavParams !== \"undefined\" && NavParams) === \"function\" && _b || Object, typeof (_c = typeof CommonUtilsProvider !== \"undefined\" && CommonUtilsProvider) === \"function\" && _c || Object, typeof (_d = typeof NgZone !== \"undefined\" && NgZone) === \"function\" && _d || Object, typeof (_e = typeof SocialSharing !== \"undefined\" && SocialSharing) === \"function\" && _e || Object, typeof (_f = typeof InAppBrowser !== \"undefined\" && InAppBrowser) === \"function\" && _f || Object, typeof (_g = typeof DatabaseProvider !== \"undefined\" && DatabaseProvider) === \"function\" && _g || Object])\n], ViewTripsPage);\nexport { ViewTripsPage };\nvar _a, _b, _c, _d, _e, _f, _g;\n//# sourceMappingURL=view-trips.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/pages/view-trips/view-trips.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nimport { Component } from '@angular/core';\nimport { NavController, NavParams, ViewController } from 'ionic-angular';\n// Styled modal that can replace an alert controller\n// had to do this because alerts do not support a mix of input types\nvar AlertModalPage = (function () {\n    function AlertModalPage(navCtrl, navParams, viewCtrl) {\n        this.navCtrl = navCtrl;\n        this.navParams = navParams;\n        this.viewCtrl = viewCtrl;\n        this.inputData = { xy: true, name: \"\", obd: true, isRelative: true, isCancelled: false };\n        console.log(\"*** Modal constructor\");\n    }\n    // don't act on modal input\n    AlertModalPage.prototype.inputCancelled = function () {\n        console.log(\"Cancelled\");\n        this.inputData.isCancelled = true;\n        this.viewCtrl.dismiss(this.inputData);\n    };\n    AlertModalPage.prototype.inputSubmitted = function () {\n        console.log(\"Submitted\");\n        console.log(JSON.stringify(this.inputData));\n        this.inputData.isCancelled = false;\n        this.viewCtrl.dismiss(this.inputData);\n    };\n    AlertModalPage.prototype.ionViewDidLoad = function () {\n    };\n    return AlertModalPage;\n}());\nAlertModalPage = __decorate([\n    Component({\n        selector: 'page-alert-modal',\n        templateUrl: 'alert-modal.html',\n    }),\n    __metadata(\"design:paramtypes\", [typeof (_a = typeof NavController !== \"undefined\" && NavController) === \"function\" && _a || Object, typeof (_b = typeof NavParams !== \"undefined\" && NavParams) === \"function\" && _b || Object, typeof (_c = typeof ViewController !== \"undefined\" && ViewController) === \"function\" && _c || Object])\n], AlertModalPage);\nexport { AlertModalPage };\nvar _a, _b, _c;\n//# sourceMappingURL=alert-modal.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/pages/alert-modal/alert-modal.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nimport { Component } from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\nimport { BLE } from '@ionic-native/ble';\nimport { NgZone } from '@angular/core';\nimport { CommonUtilsProvider } from '../../providers/common-utils/common-utils';\n// currently a shell operation - discovery only and basic connect\n// need to buy a BLE adapter for OBD and then code rest\nvar BlePage = (function () {\n    function BlePage(navCtrl, navParams, ble, zone, utils) {\n        this.navCtrl = navCtrl;\n        this.navParams = navParams;\n        this.ble = ble;\n        this.zone = zone;\n        this.utils = utils;\n        this.isScanning = false;\n        this.devices = [];\n        console.log(\">>>> Inside BLE \");\n    }\n    // Initiates bluetooth discovery\n    BlePage.prototype.startScan = function () {\n        var _this = this;\n        this.isScanning = true;\n        this.devices = [];\n        this.ble.startScan([]).subscribe(function (device) {\n            console.log(\"GOT:\" + JSON.stringify(device));\n            if (!_this.utils.contains(_this.devices, device)) {\n                _this.zone.run(function () {\n                    _this.devices.push(device);\n                });\n            }\n        });\n        setTimeout(function () { console.log(\"Timer\"); _this.stopScan(); }, 20000);\n    };\n    // cancels BT discovery\n    BlePage.prototype.stopScan = function () {\n        // handles timeout fake calls\n        if (this.isScanning == false)\n            return;\n        this.isScanning = false;\n        this.ble.stopScan()\n            .then(function (data) {\n            console.log(\"Scan Stopped\");\n        })\n            .catch(function (err) { console.log(\"Error stopping scan\"); });\n    };\n    // shell for now\n    BlePage.prototype.connect = function (device) {\n        this.ble.connect(device.id)\n            .subscribe(function (res) {\n            console.log(\"Success:\" + JSON.stringify(res));\n        }, function (err) {\n            console.log(\"Error:\" + JSON.stringify(err));\n        });\n    };\n    BlePage.prototype.ionViewDidLoad = function () {\n        console.log('ionViewDidLoad BlePage');\n    };\n    return BlePage;\n}());\nBlePage = __decorate([\n    Component({\n        selector: 'page-ble',\n        templateUrl: 'ble.html',\n    }),\n    __metadata(\"design:paramtypes\", [typeof (_a = typeof NavController !== \"undefined\" && NavController) === \"function\" && _a || Object, typeof (_b = typeof NavParams !== \"undefined\" && NavParams) === \"function\" && _b || Object, typeof (_c = typeof BLE !== \"undefined\" && BLE) === \"function\" && _c || Object, typeof (_d = typeof NgZone !== \"undefined\" && NgZone) === \"function\" && _d || Object, typeof (_e = typeof CommonUtilsProvider !== \"undefined\" && CommonUtilsProvider) === \"function\" && _e || Object])\n], BlePage);\nexport { BlePage };\nvar _a, _b, _c, _d, _e;\n//# sourceMappingURL=ble.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/pages/ble/ble.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { Component, ViewChild } from '@angular/core';\nimport { NavController, ModalController, Platform } from 'ionic-angular';\nimport { SocialSharing } from '@ionic-native/social-sharing';\nimport { Chart } from 'chart.js';\nimport { Insomnia } from '@ionic-native/insomnia';\nimport { CommonUtilsProvider } from '../../providers/common-utils/common-utils';\nimport { SensorsProvider } from '../../providers/sensors/sensors';\nimport { DatabaseProvider } from '../../providers/database/database';\nimport { AlertController } from 'ionic-angular';\nimport { ViewTripsPage } from \"../view-trips/view-trips\";\nimport { AlertModalPage } from \"../alert-modal/alert-modal\";\nimport { BlePage } from \"../ble/ble\";\nimport { SpeechRecognition } from '@ionic-native/speech-recognition';\nimport { NgZone } from '@angular/core';\nimport { AndroidPermissions } from '@ionic-native/android-permissions';\nimport * as Fuse from 'fuse.js';\nvar HomePage = (function () {\n    // init\n    function HomePage(navCtrl, plt, socialSharing, insomnia, utils, alert, modal, speech, db, zone, perm, sensors) {\n        //, \n        var _this = this;\n        this.navCtrl = navCtrl;\n        this.plt = plt;\n        this.socialSharing = socialSharing;\n        this.insomnia = insomnia;\n        this.utils = utils;\n        this.alert = alert;\n        this.modal = modal;\n        this.speech = speech;\n        this.db = db;\n        this.zone = zone;\n        this.perm = perm;\n        this.sensors = sensors;\n        // modify these to make your own markers\n        // name = what is displayed as a button\n        // val = what is written in the log\n        this.markers = [\n            //  good markers\n            { name: 'turn', val: 'turn', color: 'light', speech: 'turn' },\n            { name: 'brake', val: 'brake', color: 'light', speech: 'brake' },\n            { name: 'unknown', val: 'unknown', color: 'light', speech: 'unknown' },\n            // bad markers\n            { name: 'brake', val: 'hard-brake', color: 'alert', speech: 'hard brake' },\n            { name: 'distract', val: 'distract', color: 'alert', speech: 'distract' },\n            { name: 'speedup', val: 'speedup', color: 'alert', speech: 'speed up' },\n            { name: 'turn', val: 'sharp-turn', color: 'alert', speech: 'sharp turn' },\n        ];\n        // will be used for fuzzy search after speech recognition\n        this.myFuseOptions = {\n            caseSensitive: false,\n            keys: ['speech'],\n            shouldSort: true,\n        };\n        this.myFuse = new Fuse(this.markers, this.myFuseOptions);\n        // models for DOM charts\n        this.charts = { accChart: null, gyroChart: null };\n        this.progress = { val: -1 }; // upload indication\n        this.logState = 'Start'; // button state\n        this.pause = false; // true if recording paused\n        this.pauseColor = 'secondary';\n        this.stateColor = 'primary'; // button color\n        this.logs = []; // will hold history of acc + gyr data\n        this.logRows = 0;\n        this.viewMode = 'graph'; // controls segment display\n        this.dirty = true; // hack for graph DOM attachment\n        this.mLastAcc = 0; // not used, really\n        this.mCurrAcc = 0; // not used, really\n        this.mAcc = 0; // not used, really\n        this.move = \"no \"; // heuristic to calc. if we picked up phone\n        this.oldZ = -1000; // stores past Z axis val in acc (for distract analytics)\n        this.moveCount = 0; // times you 'saw' the phone in a trip\n        this.moveThreshold = 3; // tweak this for above sensitivity\n        this.speed = 0; // holds GPS speed if applicable\n        this.timer = { 'time': \"\" }; //trip timer\n        this.currentTripName = \"\";\n        this.pendingUpload = false; // if true, cloud upload failed\n        this.remoteVer = \"0.0.0\"; // latest remote app version;\n        this.logCoords = true; // if true, will capture latLong\n        this.speechAvailable = true; // if false, speech recog will be disabled\n        this.latestSpeech = \"\"; // will hold latest words\n        // given a sensor object, updates graph and log \n        this.processCharts = function (object, chart, type) {\n            var _this = this;\n            //console.log (\"--- process start ---\");\n            return new Promise(function (resolve, reject) {\n                //console.log (\"Inside process with \"+ JSON.stringify(object))\n                if (!_this.dirty) {\n                    // I don't think zone.run will work here\n                    // we need time for the view to render first?\n                    setTimeout(function () {\n                        chart.data.datasets[0].data.push(object.x);\n                        chart.data.datasets[1].data.push(object.y);\n                        chart.data.datasets[2].data.push(object.z);\n                        chart.data.labels.push(\"\");\n                        chart.data.datasets[0].data.shift();\n                        chart.data.datasets[1].data.shift();\n                        chart.data.datasets[2].data.shift();\n                        chart.data.labels.shift();\n                        chart.update();\n                    }, 100);\n                }\n                else {\n                    console.log(\"dirty\");\n                }\n                if (type == 'acc') {\n                    _this.acc = JSON.stringify(object);\n                    _this.mLastAcc = _this.mCurrAcc;\n                    _this.mCurrAcc = Math.sqrt(object.x * object.x + object.y * object.y + object.z * object.z);\n                    var delta = _this.mCurrAcc - _this.mLastAcc;\n                    _this.mAcc = _this.mAcc * 0.9 + delta; // not sure what we will do with this, yet\n                    // see if phone move matches threshold. Lets make sure we don't double count\n                    // active moves\n                    if ((Math.abs(object.z - _this.oldZ) >= _this.moveThreshold) && (_this.move == 'no ')) {\n                        if (_this.oldZ != -1000) {\n                            _this.move = 'YES';\n                            _this.moveCount++;\n                            // log real value, not abs. As it turns out hard braking is also Z dependant and \n                            // possibly the opp. of this. Needs investigation.\n                            if (_this.isLogging()) {\n                                _this.storeLog('Analytics', { 'value': object.z - _this.oldZ, 'threshold': _this.moveThreshold, 'action': 'Move' });\n                            }\n                        }\n                    }\n                    else {\n                        _this.move = 'no ';\n                    }\n                    _this.oldZ = object.z;\n                    if (_this.isLogging()) {\n                        _this.storeLog('Acc', object);\n                    }\n                } // if acc\n                else if (type == 'gyro') {\n                    _this.gyro = JSON.stringify(object);\n                    if (_this.isLogging()) {\n                        _this.storeLog('Gyro', object);\n                    }\n                }\n                else {\n                    if (_this.isLogging()) {\n                        _this.storeLog(type, object);\n                    }\n                }\n                resolve(true);\n            });\n        };\n        plt.ready().then(function () {\n            if (_this.plt.is('ios')) {\n                console.log(\">>>>>>>>>>>>>> HACKING BACKGROUND COLOR\");\n                window['plugins'].webviewcolor.change('#000');\n            }\n            _this.db.init();\n            _this.db.getPendingUpload() // do we have a trip that did not upload?\n                .then(function (succ) { _this.pendingUpload = succ.status; _this.currentTripName = succ.name; console.log(\"PENDING RETURNED \" + JSON.stringify(succ)); });\n            _this.speech.isRecognitionAvailable()\n                .then(function (available) {\n                console.log(\"Speech recognition:\" + available);\n                if (!available) {\n                    _this.utils.presentToast(\"Speech recognition not supported\", \"error\");\n                    _this.speechAvailable = false;\n                }\n                else {\n                    _this.getPermission()\n                        .then(function (succ) { console.log(\"Got speech permission\"); })\n                        .catch(function (err) {\n                        console.log(\"Error getting speech permission\");\n                        _this.speechAvailable = false;\n                        _this.utils.presentToast(\"Error getting speech permissions\", \"error\");\n                    });\n                }\n            });\n        });\n    }\n    // credit: https://learnionic2.com/2017/03/30/speech-to-text-with-ionic-2/\n    // \n    HomePage.prototype.getPermission = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var permission, e_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 2, , 3]);\n                        return [4 /*yield*/, this.speech.requestPermission()];\n                    case 1:\n                        permission = _a.sent();\n                        console.log(permission);\n                        return [2 /*return*/, permission];\n                    case 2:\n                        e_1 = _a.sent();\n                        console.error(e_1);\n                        return [3 /*break*/, 3];\n                    case 3: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    HomePage.prototype.hasPermission = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var permission, e_2;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 2, , 3]);\n                        return [4 /*yield*/, this.speech.hasPermission()];\n                    case 1:\n                        permission = _a.sent();\n                        console.log(permission);\n                        return [2 /*return*/, permission];\n                    case 2:\n                        e_2 = _a.sent();\n                        console.error(e_2);\n                        return [3 /*break*/, 3];\n                    case 3: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    // called when user taps on the mic\n    HomePage.prototype.recognizeSpeech = function () {\n        var _this = this;\n        this.androidOptions = {\n            prompt: 'Please start speaking'\n        };\n        this.iosOptions = {\n            language: 'en-US'\n        };\n        if (this.plt.is('android')) {\n            this.speech.requestPermission().then(function (succ) {\n                _this.speech.startListening(_this.androidOptions).subscribe(function (data) { console.log(data); _this.latestSpeech = data[0]; _this.setSpeechMarker(_this.latestSpeech); }, function (error) { return console.log(error); });\n            });\n        }\n        else if (this.plt.is('ios')) {\n            this.speech.requestPermission().then(function (succ) {\n                _this.utils.presentLoader(\"Please speak...\");\n                setTimeout(function () {\n                    _this.speech.stopListening();\n                    _this.utils.removeLoader();\n                }, 3000);\n                _this.speech.startListening(_this.iosOptions)\n                    .subscribe(function (data) { console.log(data); _this.speech.stopListening(); _this.latestSpeech = data[0]; _this.setSpeechMarker(_this.latestSpeech); }, function (error) { return console.log(error); });\n            });\n        }\n    };\n    HomePage.prototype.clearLogin = function () {\n        this.db.clearUser();\n        this.utils.presentToast(\"cleared user\");\n    };\n    // returns app version\n    HomePage.prototype.getVersion = function () {\n        return this.utils.getVersion();\n    };\n    // loads view trip controller\n    HomePage.prototype.viewTrips = function () {\n        console.log(\"View Trips\");\n        this.navCtrl.push(ViewTripsPage);\n    };\n    // hidden for now from ui\n    HomePage.prototype.ble = function () {\n        console.log(\"View BLE\");\n        this.navCtrl.push(BlePage);\n    };\n    // this is called for a pending trip that was not uploaded to the cloud\n    HomePage.prototype.uploadPending = function (name) {\n        var _this = this;\n        console.log(\"Trying to upload \" + name);\n        this.upload(this.currentTripName)\n            .then(function (succ) {\n            console.log(\"all good with upload\");\n            _this.db.setPendingUpload(false);\n            _this.pendingUpload = false;\n        })\n            .catch(function (err) {\n            console.log(\"home bubble up: pending upload failed\");\n            _this.db.setPendingUpload(true, _this.currentTripName);\n            _this.pendingUpload = true;\n        });\n    };\n    // uploads file to firebase\n    HomePage.prototype.upload = function (name) {\n        var _this = this;\n        console.log(\"upload\");\n        return this.db.doAuthWithPrompt()\n            .then(function (succ) {\n            return _this.db.uploadDataToFirebase(name, _this.progress);\n        });\n    };\n    // called by start/stop trip\n    HomePage.prototype.toggleButtonState = function () {\n        this.logState = (this.logState == 'Start') ? 'Stop' : 'Start';\n        this.stateColor = (this.logState == 'Start') ? 'primary' : 'danger';\n    };\n    // pauses recording without stopping trips\n    HomePage.prototype.togglePause = function () {\n        this.pause = !this.pause;\n        this.pauseColor = (this.pauseColor == 'secondary') ? 'primary' : 'secondary';\n    };\n    // callback handlers for subscription data\n    HomePage.prototype.accDataReceived = function (data) {\n        // console.log (\"acc data:\"+JSON.stringify(data));\n        if (this.isRelative) {\n            //console.log (\"Relative comp\");\n            data.relX = data.x - this.oldSensorVals.acc.x;\n            data.relY = data.y - this.oldSensorVals.acc.y;\n            data.relZ = data.z - this.oldSensorVals.acc.z;\n            this.oldSensorVals.acc.x = data.x;\n            this.oldSensorVals.acc.y = data.y;\n            this.oldSensorVals.acc.z = data.z;\n        }\n        this.processCharts(data, this.charts.accChart, 'acc');\n    };\n    HomePage.prototype.gyroDataReceived = function (data) {\n        // console.log (\"gyr data:\"+JSON.stringify(data));\n        if (this.isRelative) {\n            data.relX = data.x - this.oldSensorVals.gyr.x;\n            data.relY = data.y - this.oldSensorVals.gyr.y;\n            data.relZ = data.z - this.oldSensorVals.gyr.z;\n            this.oldSensorVals.gyr.x = data.x;\n            this.oldSensorVals.gyr.y = data.y;\n            this.oldSensorVals.gyr.z = data.z;\n        }\n        this.processCharts(data, this.charts.gyroChart, 'gyro');\n    };\n    HomePage.prototype.gpsDataReceived = function (data) {\n        // console.log (\"GPS\"+JSON.stringify(data));\n        if (data.coords) {\n            // this is meters per sec, convert to mph\n            this.speed = data.coords.speed * 2.23694;\n            if (this.isLogging()) {\n                if (!this.logCoords) {\n                    data.coords.latitude = 0;\n                    data.coords.longitude = 0;\n                    data.coords.altitude = 0;\n                }\n                this.storeLog('gps', data.coords);\n            }\n        }\n    };\n    // init code to start a trip\n    HomePage.prototype.startTrip = function () {\n        var _this = this;\n        this.pause = false;\n        this.pauseColor = 'secondary';\n        this.moveCount = 0;\n        this.isRelative = false;\n        this.oldSensorVals = {\n            acc: { x: 0, y: 0, z: 0 },\n            gyr: { x: 0, y: 0, z: 0 },\n        };\n        var im = this.modal.create(AlertModalPage, {}, { cssClass: \"alertModal\", enableBackdropDismiss: false });\n        im.onDidDismiss(function (data) {\n            console.log(\"RETURNED: \" + JSON.stringify(data));\n            if (data.isCancelled == false) {\n                _this.isRelative = data.isRelative;\n                _this.logCoords = data.xy;\n                _this.clearArray(); // remove array\n                _this.db.deleteLog() // remove log file\n                    .then(function (_) {\n                    // start new log and start trip\n                    _this.currentTripName = data.name || 'unnamed trip';\n                    _this.startTripHeader(_this.currentTripName);\n                    _this.toggleButtonState();\n                    _this.utils.presentToast(\"trip recording started\");\n                    _this.sensors.startAndStreamSensors(_this.accDataReceived.bind(_this), _this.gyroDataReceived.bind(_this), _this.gpsDataReceived.bind(_this));\n                    _this.utils.startTimer(_this.timer);\n                    // make sure screen stays awake\n                    _this.insomnia.keepAwake()\n                        .then(function (succ) { console.log(\"Wakelock acqusition OK\"); })\n                        .catch(function (err) { _this.utils.presentToast(\"could not grab wakelock, screen will dim\", \"error\"); });\n                })\n                    .catch(function (err) { _this.utils.presentToast('problem removing log file', 'error'); });\n            }\n        });\n        im.present();\n    };\n    // aborts a trip without saving \n    HomePage.prototype.abortTrip = function () {\n        console.log(\"Inside abort trip\");\n        this.utils.stopTimer(this.timer);\n        this.toggleButtonState();\n        this.sensors.stopAllSensors();\n        this.insomnia.allowSleepAgain()\n            .then(function (succ) { console.log(\"*** WAKE LOCK RELEASED OK **\"); })\n            .catch(function (err) { console.log(\"Error, releasing wake lock:\" + err); });\n        this.db.setPendingUpload(false, this.currentTripName);\n        this.pendingUpload = false;\n        this.utils.presentToast(\"Trip Aborted\", \"success\");\n    };\n    // stops trip, and associated sensors\n    HomePage.prototype.stopTrip = function () {\n        var _this = this;\n        console.log(\"Inside stop trip\");\n        this.utils.stopTimer(this.timer);\n        this.sensors.stopAllSensors();\n        // make sure screen stays awake\n        this.insomnia.allowSleepAgain()\n            .then(function (succ) { console.log(\"*** WAKE LOCK RELEASED OK **\"); })\n            .catch(function (err) { console.log(\"Error, releasing wake lock:\" + err); });\n        try {\n            this.flushLog(true).then(function (_) {\n                var str = \"]}\\n\";\n                console.log(\"STOPPING TRIP, writing \" + str);\n                _this.db.writeString(str);\n                _this.clearArray();\n                _this.toggleButtonState();\n                _this.utils.presentToast(\"trip recording stopped\");\n                _this.upload(_this.currentTripName)\n                    .then(function (succ) {\n                    console.log(\"all good with upload\");\n                    _this.db.setPendingUpload(false);\n                    _this.pendingUpload = false;\n                })\n                    .catch(function (err) {\n                    console.log(\"home bubble up: upload failed in stop trip\");\n                    console.log(JSON.stringify(err));\n                    _this.db.setPendingUpload(true, _this.currentTripName);\n                    _this.pendingUpload = true;\n                });\n                //this.utils.cloudUpload(this.progress);\n            }, function (error) { return (console.log(error)); });\n        }\n        catch (err) {\n            console.log(\"CATCH=\" + err);\n        }\n    };\n    // called by start trip. Writes a header \n    // we need this because weare writing logs in chunks\n    // that eventually need to represent valid JSON objects\n    HomePage.prototype.startTripHeader = function (tname) {\n        var str = \"{\\n    \\\"id\\\":\\\"\" + tname + \"\\\",\\n\";\n        str += \"    \\\"sensors\\\":[\\n\";\n        console.log(\"STARTING TRIP, writing \" + str);\n        this.db.writeString(str)\n            .then(function (resp) { })\n            .catch(function (e) { \"ERROR:\" + e; });\n    };\n    // this adds 'events' to the log. Use it for analysis - before you perform an action\n    // you want to train, set an appropriate marker\n    // allow marker even if paused. if paused, start.\n    HomePage.prototype.setMarker = function (str) {\n        this.storeLog('Marker', str);\n        this.utils.presentToast(str + ' marker set', 'success', 1500);\n        // restart recording if paused\n        if (!this.isLogging())\n            this.togglePause();\n    };\n    // uses speech recognition - may not be accurate words, so lets differentiate\n    HomePage.prototype.setSpeechMarker = function (str) {\n        str = this.speechSanitize(str);\n        console.log(\"SPEECH MARKER \" + str);\n        this.storeLog('SpeechMarker', str);\n        this.utils.presentToast(str + ' marker set', 'success', 1500);\n        // restart recording if paused\n        if (!this.isLogging())\n            this.togglePause();\n    };\n    // corrects some common speech snafus\n    // will heavily depend on accent\n    HomePage.prototype.speechSanitize = function (str) {\n        var s = str.toLowerCase();\n        var fuzzy = this.myFuse.search(s);\n        if (!fuzzy.length) {\n            console.log(\"Fuzzy search failed, going with manual sanitization\");\n            s = s.replace(\"heartbreak\", \"hard brake\");\n            s = s.replace(/break/g, \"brake\");\n            s = s.replace(/heart/g, \"hard\");\n            s = s.replace(/speed up/g, \"speedup\");\n            s = s.replace(/ /g, \"-\");\n        }\n        else {\n            s = fuzzy[0][\"val\"];\n            console.log(\"Fuzzy returned: \" + s);\n        }\n        console.log(\"FUZE\");\n        console.log(this.myFuse.search(str));\n        return s;\n    };\n    // shares latest trip\n    HomePage.prototype.share = function () {\n        var _this = this;\n        var f = this.db.logFileLocation();\n        var options = {\n            subject: 'TripData trip logs',\n            message: 'Trip logs attached',\n            files: [f],\n            chooserTitle: 'Share via...'\n        };\n        this.socialSharing.shareWithOptions(options).then(function () {\n        }).catch(function () {\n            _this.utils.presentToast('Error sharing', 'error');\n        });\n    };\n    // writes to memory, and periodically flushes\n    HomePage.prototype.storeLog = function (type, obj) {\n        this.logs.push({ type: type, data: obj, date: Date() });\n        this.logRows = this.logs.length;\n        if (this.logRows > 100) {\n            this.flushLog();\n            this.clearArray();\n        }\n    };\n    HomePage.prototype.flushLog = function (removeLastComma) {\n        if (removeLastComma === void 0) { removeLastComma = false; }\n        console.log(\">>>>>>>Flushing logs...\");\n        return this.db.writeLog(this.logs, removeLastComma);\n    };\n    HomePage.prototype.isLogging = function () {\n        return this.logState == 'Stop' && this.pause == false;\n    };\n    // before trip is started, lets check if there is a pending trip to upload\n    HomePage.prototype.checkPendingUpload = function () {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            console.log(\"PENDING = \" + _this.pendingUpload);\n            if (_this.pendingUpload) {\n                var alert = _this.alert.create({\n                    title: 'Confirm',\n                    message: 'This will delete current unsaved trip',\n                    buttons: [\n                        {\n                            text: 'Cancel',\n                            handler: function () {\n                                console.log('Cancel clicked');\n                                reject(false);\n                            }\n                        },\n                        {\n                            text: 'Ok',\n                            handler: function () {\n                                console.log(\"Resolving true\");\n                                resolve(true);\n                            }\n                        }\n                    ]\n                });\n                alert.present();\n            }\n            else {\n                resolve(true);\n            }\n        });\n    };\n    // called by UI\n    HomePage.prototype.toggleTrip = function () {\n        var _this = this;\n        if (this.logState == 'Stop') {\n            // write to file if stopped\n            this.stopTrip();\n        }\n        if (this.logState == 'Start') {\n            this.checkPendingUpload()\n                .then(function (succ) { return _this.startTrip(); })\n                .catch(function (err) { return console.log(\"Not starting a trip \" + JSON.stringify(err)); });\n        }\n    };\n    HomePage.prototype.clearArray = function () {\n        this.logs = [];\n        this.logRows = 0;\n    };\n    // not used  - I removed delete - no sense now that logs are not cumulative\n    HomePage.prototype.confirmDelete = function () {\n        var _this = this;\n        var alert = this.alert.create({\n            title: 'Confirm Deletion',\n            message: 'This will permanently delete all stored trips',\n            buttons: [\n                {\n                    text: 'Cancel',\n                    handler: function () {\n                        console.log('Cancel clicked');\n                    }\n                },\n                {\n                    text: 'Ok',\n                    handler: function () {\n                        _this.utils.presentToast(\"clearing log file\");\n                        _this.clearArray();\n                        _this.db.deleteLog();\n                    }\n                }\n            ]\n        });\n        alert.present();\n    };\n    HomePage.prototype.rawClicked = function () {\n        console.log(\"raw clicked\");\n    };\n    // given that DOM elements are removed on switching segments\n    // we need to redraw/reattach charts\n    HomePage.prototype.chartClicked = function () {\n        //this.utils.presentLoader(\"charting graph..\");\n        /*\n        this.dirty = true;\n        \n        setTimeout(() => {\n          console.log(\"re-drawing chart..\");\n          this.charts.accChart.destroy();\n          this.charts.gyroChart.destroy();\n          this.createChart(this.charts, this.accCanvas.nativeElement, 'acc', 'Accelerometer');\n          this.createChart(this.charts, this.gyroCanvas.nativeElement, 'gyro', 'Gyroscope');\n          ;\n          this.utils.removeLoader();\n        }, 500);*/\n    };\n    // instantiates charts. Generic function to handle different chart objects\n    HomePage.prototype.createChart = function (charthandle, elem, type, title) {\n        if (title === void 0) { title = ''; }\n        console.log(\"*** Creating Chart\");\n        var chart;\n        chart = new Chart(elem, {\n            type: 'line',\n            data: {\n                labels: new Array(20).fill(\"\"),\n                datasets: [\n                    {\n                        label: 'X',\n                        data: new Array(20).fill(0),\n                        borderColor: '#ad2719',\n                        backgroundColor: 'rgba(231, 76, 60,0.4)',\n                        borderWidth: 2,\n                        fill: true,\n                    },\n                    {\n                        label: 'Y',\n                        data: new Array(20).fill(0),\n                        borderColor: '#148744',\n                        backgroundColor: 'rgba(39, 174, 96,0.4)',\n                        borderWidth: 2,\n                        fill: true,\n                    },\n                    {\n                        label: 'Z',\n                        data: new Array(20).fill(0),\n                        borderColor: 'rgba(142, 68, 173,1.0)',\n                        backgroundColor: 'rgba(155, 89, 182,0.3)',\n                        borderWidth: 2,\n                        fill: true,\n                    },\n                ]\n            },\n            options: {\n                title: {\n                    display: true,\n                    text: title,\n                },\n                responsive: true,\n                animation: {\n                    duration: 100,\n                    easing: 'linear'\n                },\n                scales: {\n                    xAxes: [{\n                            gridLines: {\n                                color: \"##7f8c8d\",\n                            },\n                        }],\n                    yAxes: [{\n                            display: true,\n                            gridLines: {\n                                color: \"##7f8c8d\",\n                            },\n                            ticks: {\n                                min: -16,\n                                max: 16,\n                            }\n                        }]\n                }\n            }\n        });\n        if (type == 'acc')\n            charthandle.accChart = chart;\n        else\n            charthandle.gyroChart = chart;\n        this.dirty = false;\n    };\n    HomePage.prototype.ionViewDidEnter = function () {\n        var _this = this;\n        this.plt.ready().then(function () {\n            _this.utils.getRemoteVersion()\n                .then(function (ver) {\n                _this.remoteVer = ver;\n                var localver = _this.utils.getVersion();\n                console.log(\"remote: \" + _this.remoteVer + \", local: \" + localver);\n                var c = _this.utils.versionCompare(localver, _this.remoteVer);\n                if (c == -1)\n                    _this.isOutdated = true;\n                _this.createChart(_this.charts, _this.accCanvas.nativeElement, 'acc', 'Accelerometer');\n                _this.createChart(_this.charts, _this.gyroCanvas.nativeElement, 'gyro', 'Gyroscope');\n            });\n        });\n    };\n    return HomePage;\n}());\n__decorate([\n    ViewChild('accGraph'),\n    __metadata(\"design:type\", Object)\n], HomePage.prototype, \"accCanvas\", void 0);\n__decorate([\n    ViewChild('gyroGraph'),\n    __metadata(\"design:type\", Object)\n], HomePage.prototype, \"gyroCanvas\", void 0);\nHomePage = __decorate([\n    Component({\n        selector: 'page-home',\n        templateUrl: 'home.html'\n    }),\n    __metadata(\"design:paramtypes\", [typeof (_a = typeof NavController !== \"undefined\" && NavController) === \"function\" && _a || Object, typeof (_b = typeof Platform !== \"undefined\" && Platform) === \"function\" && _b || Object, typeof (_c = typeof SocialSharing !== \"undefined\" && SocialSharing) === \"function\" && _c || Object, typeof (_d = typeof Insomnia !== \"undefined\" && Insomnia) === \"function\" && _d || Object, typeof (_e = typeof CommonUtilsProvider !== \"undefined\" && CommonUtilsProvider) === \"function\" && _e || Object, typeof (_f = typeof AlertController !== \"undefined\" && AlertController) === \"function\" && _f || Object, typeof (_g = typeof ModalController !== \"undefined\" && ModalController) === \"function\" && _g || Object, typeof (_h = typeof SpeechRecognition !== \"undefined\" && SpeechRecognition) === \"function\" && _h || Object, typeof (_j = typeof DatabaseProvider !== \"undefined\" && DatabaseProvider) === \"function\" && _j || Object, typeof (_k = typeof NgZone !== \"undefined\" && NgZone) === \"function\" && _k || Object, typeof (_l = typeof AndroidPermissions !== \"undefined\" && AndroidPermissions) === \"function\" && _l || Object, typeof (_m = typeof SensorsProvider !== \"undefined\" && SensorsProvider) === \"function\" && _m || Object])\n], HomePage);\nexport { HomePage };\nvar _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m;\n//# sourceMappingURL=home.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nimport { Component } from '@angular/core';\nimport { Platform } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { HomePage } from '../pages/home/home';\nvar MyApp = (function () {\n    function MyApp(platform, statusBar, splashScreen) {\n        this.rootPage = HomePage;\n        platform.ready().then(function () {\n            // Okay, so the platform is ready and our plugins are available.\n            // Here you can do any higher level native things you might need.\n            statusBar.styleDefault();\n            setTimeout(function () { splashScreen.hide(); }, 100);\n        });\n    }\n    return MyApp;\n}());\nMyApp = __decorate([\n    Component({\n        templateUrl: 'app.html'\n    }),\n    __metadata(\"design:paramtypes\", [typeof (_a = typeof Platform !== \"undefined\" && Platform) === \"function\" && _a || Object, typeof (_b = typeof StatusBar !== \"undefined\" && StatusBar) === \"function\" && _b || Object, typeof (_c = typeof SplashScreen !== \"undefined\" && SplashScreen) === \"function\" && _c || Object])\n], MyApp);\nexport { MyApp };\nvar _a, _b, _c;\n//# sourceMappingURL=app.component.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","//https://www.joshmorony.com/build-a-simple-progress-bar-component-in-ionic-2/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nimport { Component, Input } from '@angular/core';\nvar ProgressBarComponent = (function () {\n    function ProgressBarComponent() {\n    }\n    return ProgressBarComponent;\n}());\n__decorate([\n    Input('progress'),\n    __metadata(\"design:type\", Object)\n], ProgressBarComponent.prototype, \"progress\", void 0);\nProgressBarComponent = __decorate([\n    Component({\n        selector: 'progress-bar',\n        templateUrl: 'progress-bar.html'\n    }),\n    __metadata(\"design:paramtypes\", [])\n], ProgressBarComponent);\nexport { ProgressBarComponent };\n//# sourceMappingURL=progress-bar.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/components/progress-bar/progress-bar.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { BrowserModule } from '@angular/platform-browser';\nimport { ErrorHandler, NgModule } from '@angular/core';\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { MyApp } from './app.component';\nimport { HomePage } from '../pages/home/home';\nimport { AlertModalPage } from '../pages/alert-modal/alert-modal';\nimport { ViewTripsPage } from '../pages/view-trips/view-trips';\nimport { DeviceMotion } from '@ionic-native/device-motion';\nimport { Gyroscope } from '@ionic-native/gyroscope';\nimport { SocialSharing } from '@ionic-native/social-sharing';\nimport { Insomnia } from '@ionic-native/insomnia';\nimport { Geolocation } from '@ionic-native/geolocation';\nimport { AndroidPermissions } from '@ionic-native/android-permissions';\nimport { CommonUtilsProvider } from '../providers/common-utils/common-utils';\nimport { File } from '@ionic-native/file';\nimport { AngularFireModule } from 'angularfire2';\nimport { AngularFireDatabaseModule } from 'angularfire2/database';\nimport { AngularFireAuthModule } from 'angularfire2/auth';\nimport { ProgressBarComponent } from '../components/progress-bar/progress-bar';\nimport { IonicStorageModule } from '@ionic/storage';\nimport { InAppBrowser } from '@ionic-native/in-app-browser';\nimport { AppVersion } from '@ionic-native/app-version';\nimport { HttpModule } from '@angular/http';\nimport { BLE } from '@ionic-native/ble';\nimport { BlePage } from \"../pages/ble/ble\";\nimport { SpeechRecognition } from '@ionic-native/speech-recognition';\nimport { DatabaseProvider } from '../providers/database/database';\nimport { ReversePipe } from '../pipes/reverse/reverse';\nimport { SensorsProvider } from '../providers/sensors/sensors';\n// Initialize Firebase\nexport var firebaseConfig = {\n    apiKey: \"AIzaSyCldDUKjFcG0YTS6Oj1n2kn0oT9cFQN878\",\n    authDomain: \"tripdata-3eb84.firebaseapp.com\",\n    databaseURL: \"https://tripdata-3eb84.firebaseio.com\",\n    projectId: \"tripdata-3eb84\",\n    storageBucket: \"tripdata-3eb84.appspot.com\",\n    messagingSenderId: \"329888799939\"\n};\nvar AppModule = (function () {\n    function AppModule() {\n    }\n    return AppModule;\n}());\nAppModule = __decorate([\n    NgModule({\n        declarations: [\n            MyApp,\n            HomePage,\n            ViewTripsPage,\n            AlertModalPage,\n            ProgressBarComponent,\n            BlePage,\n            ReversePipe\n        ],\n        imports: [\n            AngularFireModule.initializeApp(firebaseConfig),\n            AngularFireDatabaseModule,\n            AngularFireAuthModule,\n            BrowserModule,\n            IonicModule.forRoot(MyApp),\n            HttpModule,\n            IonicStorageModule.forRoot({ name: '__tripDB', driverOrder: ['sqlite', 'websql', 'indexeddb'] })\n        ],\n        bootstrap: [IonicApp],\n        entryComponents: [\n            MyApp,\n            HomePage,\n            ViewTripsPage,\n            AlertModalPage,\n            BlePage\n        ],\n        providers: [\n            Geolocation,\n            StatusBar,\n            SplashScreen,\n            DeviceMotion,\n            Gyroscope,\n            SocialSharing,\n            Insomnia,\n            AndroidPermissions,\n            CommonUtilsProvider,\n            File,\n            InAppBrowser,\n            AppVersion,\n            BLE,\n            SpeechRecognition,\n            { provide: ErrorHandler, useClass: IonicErrorHandler },\n            DatabaseProvider,\n            SensorsProvider\n        ]\n    })\n], AppModule);\nexport { AppModule };\n//# sourceMappingURL=app.module.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","/**\n * @fileoverview This file is generated by the Angular template compiler.\n * Do not edit.\n * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride}\n */\n/* tslint:disable */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as import0 from '@angular/core';\nimport * as import1 from './app.module';\nimport * as import2 from 'angularfire2/angularfire2';\nimport * as import3 from 'angularfire2/database/database.module';\nimport * as import4 from 'angularfire2/auth/auth.module';\nimport * as import5 from '@angular/common';\nimport * as import6 from 'ionic-angular/util/ionic-error-handler';\nimport * as import7 from 'ionic-angular/platform/dom-controller';\nimport * as import8 from 'ionic-angular/components/app/menu-controller';\nimport * as import9 from 'ionic-angular/components/app/app';\nimport * as import10 from 'ionic-angular/gestures/gesture-controller';\nimport * as import11 from 'ionic-angular/util/ng-module-loader';\nimport * as import12 from '@angular/platform-browser';\nimport * as import13 from '@angular/forms';\nimport * as import14 from 'ionic-angular/module';\nimport * as import15 from '@angular/http';\nimport * as import16 from '@ionic/storage/es2015/index';\nimport * as import17 from 'ionic-angular/gestures/gesture-config';\nimport * as import18 from 'ionic-angular/components/action-sheet/action-sheet-controller';\nimport * as import19 from 'ionic-angular/components/alert/alert-controller';\nimport * as import20 from 'ionic-angular/util/events';\nimport * as import21 from 'ionic-angular/util/form';\nimport * as import22 from 'ionic-angular/tap-click/haptic';\nimport * as import23 from 'ionic-angular/platform/keyboard';\nimport * as import24 from 'ionic-angular/components/loading/loading-controller';\nimport * as import25 from 'ionic-angular/components/modal/modal-controller';\nimport * as import26 from 'ionic-angular/components/picker/picker-controller';\nimport * as import27 from 'ionic-angular/components/popover/popover-controller';\nimport * as import28 from 'ionic-angular/tap-click/tap-click';\nimport * as import29 from 'ionic-angular/components/toast/toast-controller';\nimport * as import30 from 'ionic-angular/transitions/transition-controller';\nimport * as import31 from '@ionic-native/geolocation/index';\nimport * as import32 from '@ionic-native/status-bar/index';\nimport * as import33 from '@ionic-native/splash-screen/index';\nimport * as import34 from '@ionic-native/device-motion/index';\nimport * as import35 from '@ionic-native/gyroscope/index';\nimport * as import36 from '@ionic-native/social-sharing/index';\nimport * as import37 from '@ionic-native/insomnia/index';\nimport * as import38 from '@ionic-native/android-permissions/index';\nimport * as import39 from '@ionic-native/app-version/index';\nimport * as import40 from '../providers/common-utils/common-utils';\nimport * as import41 from '@ionic-native/file/index';\nimport * as import42 from '@ionic-native/in-app-browser/index';\nimport * as import43 from '@ionic-native/ble/index';\nimport * as import44 from '@ionic-native/speech-recognition/index';\nimport * as import45 from '../providers/database/database';\nimport * as import46 from '../providers/sensors/sensors';\nimport * as import47 from '../../node_modules/ionic-angular/components/action-sheet/action-sheet-component.ngfactory';\nimport * as import48 from '../../node_modules/ionic-angular/components/alert/alert-component.ngfactory';\nimport * as import49 from '../../node_modules/ionic-angular/components/app/app-root.ngfactory';\nimport * as import50 from '../../node_modules/ionic-angular/components/loading/loading-component.ngfactory';\nimport * as import51 from '../../node_modules/ionic-angular/components/modal/modal-component.ngfactory';\nimport * as import52 from '../../node_modules/ionic-angular/components/picker/picker-component.ngfactory';\nimport * as import53 from '../../node_modules/ionic-angular/components/popover/popover-component.ngfactory';\nimport * as import54 from '../../node_modules/ionic-angular/components/select/select-popover-component.ngfactory';\nimport * as import55 from '../../node_modules/ionic-angular/components/toast/toast-component.ngfactory';\nimport * as import56 from './app.component.ngfactory';\nimport * as import57 from '../pages/home/home.ngfactory';\nimport * as import58 from '../pages/view-trips/view-trips.ngfactory';\nimport * as import59 from '../pages/alert-modal/alert-modal.ngfactory';\nimport * as import60 from '../pages/ble/ble.ngfactory';\nimport * as import61 from 'angularfire2/app/firebase.app.module';\nimport * as import62 from 'ionic-angular/navigation/url-serializer';\nimport * as import63 from 'ionic-angular/navigation/deep-linker';\nimport * as import64 from '@ionic/storage/es2015/storage';\nimport * as import65 from 'ionic-angular/platform/platform-registry';\nimport * as import66 from 'ionic-angular/platform/platform';\nimport * as import67 from 'ionic-angular/config/config';\nimport * as import68 from 'ionic-angular/util/module-loader';\nimport * as import69 from 'ionic-angular/config/mode-registry';\nimport * as import70 from './app.component';\nimport * as import71 from 'angularfire2/database/database';\nimport * as import72 from 'angularfire2/auth/auth';\nimport * as import73 from 'ionic-angular/components/app/app-root';\nvar AppModuleInjector = (function (_super) {\n    __extends(AppModuleInjector, _super);\n    function AppModuleInjector(parent) {\n        return _super.call(this, parent, [\n            import47.ActionSheetCmpNgFactory,\n            import48.AlertCmpNgFactory,\n            import49.IonicAppNgFactory,\n            import50.LoadingCmpNgFactory,\n            import51.ModalCmpNgFactory,\n            import52.PickerCmpNgFactory,\n            import53.PopoverCmpNgFactory,\n            import54.SelectPopoverNgFactory,\n            import55.ToastCmpNgFactory,\n            import56.MyAppNgFactory,\n            import57.HomePageNgFactory,\n            import58.ViewTripsPageNgFactory,\n            import59.AlertModalPageNgFactory,\n            import60.BlePageNgFactory\n        ], [import49.IonicAppNgFactory]) || this;\n    }\n    Object.defineProperty(AppModuleInjector.prototype, \"_FirebaseApp_32\", {\n        get: function () {\n            if ((this.__FirebaseApp_32 == null)) {\n                (this.__FirebaseApp_32 = import61._firebaseAppFactory(this._FirebaseAppConfigToken_30, this._FirebaseAppName_31));\n            }\n            return this.__FirebaseApp_32;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_AngularFireDatabase_33\", {\n        get: function () {\n            if ((this.__AngularFireDatabase_33 == null)) {\n                (this.__AngularFireDatabase_33 = import3._getAngularFireDatabase(this._FirebaseApp_32));\n            }\n            return this.__AngularFireDatabase_33;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_AngularFireAuth_34\", {\n        get: function () {\n            if ((this.__AngularFireAuth_34 == null)) {\n                (this.__AngularFireAuth_34 = import4._getAngularFireAuth(this._FirebaseApp_32));\n            }\n            return this.__AngularFireAuth_34;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_LOCALE_ID_35\", {\n        get: function () {\n            if ((this.__LOCALE_ID_35 == null)) {\n                (this.__LOCALE_ID_35 = import0.n(this.parent.get(import0.LOCALE_ID, null)));\n            }\n            return this.__LOCALE_ID_35;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_NgLocalization_36\", {\n        get: function () {\n            if ((this.__NgLocalization_36 == null)) {\n                (this.__NgLocalization_36 = new import5.NgLocaleLocalization(this._LOCALE_ID_35));\n            }\n            return this.__NgLocalization_36;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_APP_ID_37\", {\n        get: function () {\n            if ((this.__APP_ID_37 == null)) {\n                (this.__APP_ID_37 = import0.g());\n            }\n            return this.__APP_ID_37;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_IterableDiffers_38\", {\n        get: function () {\n            if ((this.__IterableDiffers_38 == null)) {\n                (this.__IterableDiffers_38 = import0.l());\n            }\n            return this.__IterableDiffers_38;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_KeyValueDiffers_39\", {\n        get: function () {\n            if ((this.__KeyValueDiffers_39 == null)) {\n                (this.__KeyValueDiffers_39 = import0.m());\n            }\n            return this.__KeyValueDiffers_39;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_DomSanitizer_40\", {\n        get: function () {\n            if ((this.__DomSanitizer_40 == null)) {\n                (this.__DomSanitizer_40 = new import12.e(this.parent.get(import12.DOCUMENT)));\n            }\n            return this.__DomSanitizer_40;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_Sanitizer_41\", {\n        get: function () {\n            if ((this.__Sanitizer_41 == null)) {\n                (this.__Sanitizer_41 = this._DomSanitizer_40);\n            }\n            return this.__Sanitizer_41;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_HAMMER_GESTURE_CONFIG_42\", {\n        get: function () {\n            if ((this.__HAMMER_GESTURE_CONFIG_42 == null)) {\n                (this.__HAMMER_GESTURE_CONFIG_42 = new import17.IonicGestureConfig());\n            }\n            return this.__HAMMER_GESTURE_CONFIG_42;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_EVENT_MANAGER_PLUGINS_43\", {\n        get: function () {\n            if ((this.__EVENT_MANAGER_PLUGINS_43 == null)) {\n                (this.__EVENT_MANAGER_PLUGINS_43 = [\n                    new import12.DomEventsPlugin(this.parent.get(import12.DOCUMENT)),\n                    new import12.KeyEventsPlugin(this.parent.get(import12.DOCUMENT)),\n                    new import12.HammerGesturesPlugin(this.parent.get(import12.DOCUMENT), this._HAMMER_GESTURE_CONFIG_42)\n                ]);\n            }\n            return this.__EVENT_MANAGER_PLUGINS_43;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_EventManager_44\", {\n        get: function () {\n            if ((this.__EventManager_44 == null)) {\n                (this.__EventManager_44 = new import12.EventManager(this._EVENT_MANAGER_PLUGINS_43, this.parent.get(import0.NgZone)));\n            }\n            return this.__EventManager_44;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_\\u0275DomSharedStylesHost_45\", {\n        get: function () {\n            if ((this.__DomSharedStylesHost_45 == null)) {\n                (this.__DomSharedStylesHost_45 = new import12.DomSharedStylesHost(this.parent.get(import12.DOCUMENT)));\n            }\n            return this.__DomSharedStylesHost_45;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_\\u0275DomRendererFactory2_46\", {\n        get: function () {\n            if ((this.__DomRendererFactory2_46 == null)) {\n                (this.__DomRendererFactory2_46 = new import12.DomRendererFactory2(this._EventManager_44, this._DomSharedStylesHost_45));\n            }\n            return this.__DomRendererFactory2_46;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_RendererFactory2_47\", {\n        get: function () {\n            if ((this.__RendererFactory2_47 == null)) {\n                (this.__RendererFactory2_47 = this._DomRendererFactory2_46);\n            }\n            return this.__RendererFactory2_47;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_\\u0275SharedStylesHost_48\", {\n        get: function () {\n            if ((this.__SharedStylesHost_48 == null)) {\n                (this.__SharedStylesHost_48 = this._DomSharedStylesHost_45);\n            }\n            return this.__SharedStylesHost_48;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_Testability_49\", {\n        get: function () {\n            if ((this.__Testability_49 == null)) {\n                (this.__Testability_49 = new import0.Testability(this.parent.get(import0.NgZone)));\n            }\n            return this.__Testability_49;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_Meta_50\", {\n        get: function () {\n            if ((this.__Meta_50 == null)) {\n                (this.__Meta_50 = new import12.Meta(this.parent.get(import12.DOCUMENT)));\n            }\n            return this.__Meta_50;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_Title_51\", {\n        get: function () {\n            if ((this.__Title_51 == null)) {\n                (this.__Title_51 = new import12.Title(this.parent.get(import12.DOCUMENT)));\n            }\n            return this.__Title_51;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_\\u0275i_52\", {\n        get: function () {\n            if ((this.__i_52 == null)) {\n                (this.__i_52 = new import13.i());\n            }\n            return this.__i_52;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_FormBuilder_53\", {\n        get: function () {\n            if ((this.__FormBuilder_53 == null)) {\n                (this.__FormBuilder_53 = new import13.FormBuilder());\n            }\n            return this.__FormBuilder_53;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_BrowserXhr_54\", {\n        get: function () {\n            if ((this.__BrowserXhr_54 == null)) {\n                (this.__BrowserXhr_54 = new import15.BrowserXhr());\n            }\n            return this.__BrowserXhr_54;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_ResponseOptions_55\", {\n        get: function () {\n            if ((this.__ResponseOptions_55 == null)) {\n                (this.__ResponseOptions_55 = new import15.BaseResponseOptions());\n            }\n            return this.__ResponseOptions_55;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_XSRFStrategy_56\", {\n        get: function () {\n            if ((this.__XSRFStrategy_56 == null)) {\n                (this.__XSRFStrategy_56 = import15.b());\n            }\n            return this.__XSRFStrategy_56;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_XHRBackend_57\", {\n        get: function () {\n            if ((this.__XHRBackend_57 == null)) {\n                (this.__XHRBackend_57 = new import15.XHRBackend(this._BrowserXhr_54, this._ResponseOptions_55, this._XSRFStrategy_56));\n            }\n            return this.__XHRBackend_57;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_RequestOptions_58\", {\n        get: function () {\n            if ((this.__RequestOptions_58 == null)) {\n                (this.__RequestOptions_58 = new import15.BaseRequestOptions());\n            }\n            return this.__RequestOptions_58;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_Http_59\", {\n        get: function () {\n            if ((this.__Http_59 == null)) {\n                (this.__Http_59 = import15.c(this._XHRBackend_57, this._RequestOptions_58));\n            }\n            return this.__Http_59;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_ActionSheetController_62\", {\n        get: function () {\n            if ((this.__ActionSheetController_62 == null)) {\n                (this.__ActionSheetController_62 = new import18.ActionSheetController(this._App_11, this._Config_8));\n            }\n            return this.__ActionSheetController_62;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_AlertController_63\", {\n        get: function () {\n            if ((this.__AlertController_63 == null)) {\n                (this.__AlertController_63 = new import19.AlertController(this._App_11, this._Config_8));\n            }\n            return this.__AlertController_63;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_Events_64\", {\n        get: function () {\n            if ((this.__Events_64 == null)) {\n                (this.__Events_64 = new import20.Events());\n            }\n            return this.__Events_64;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_Form_65\", {\n        get: function () {\n            if ((this.__Form_65 == null)) {\n                (this.__Form_65 = new import21.Form());\n            }\n            return this.__Form_65;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_Haptic_66\", {\n        get: function () {\n            if ((this.__Haptic_66 == null)) {\n                (this.__Haptic_66 = new import22.Haptic(this._Platform_7));\n            }\n            return this.__Haptic_66;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_Keyboard_67\", {\n        get: function () {\n            if ((this.__Keyboard_67 == null)) {\n                (this.__Keyboard_67 = new import23.Keyboard(this._Config_8, this._Platform_7, this.parent.get(import0.NgZone), this._DomController_9));\n            }\n            return this.__Keyboard_67;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_LoadingController_68\", {\n        get: function () {\n            if ((this.__LoadingController_68 == null)) {\n                (this.__LoadingController_68 = new import24.LoadingController(this._App_11, this._Config_8));\n            }\n            return this.__LoadingController_68;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_LocationStrategy_69\", {\n        get: function () {\n            if ((this.__LocationStrategy_69 == null)) {\n                (this.__LocationStrategy_69 = import14.provideLocationStrategy(this.parent.get(import5.PlatformLocation), this._APP_BASE_HREF_61, this._Config_8));\n            }\n            return this.__LocationStrategy_69;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_Location_70\", {\n        get: function () {\n            if ((this.__Location_70 == null)) {\n                (this.__Location_70 = new import5.Location(this._LocationStrategy_69));\n            }\n            return this.__Location_70;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_UrlSerializer_71\", {\n        get: function () {\n            if ((this.__UrlSerializer_71 == null)) {\n                (this.__UrlSerializer_71 = import62.setupUrlSerializer(this._DeepLinkConfigToken_13));\n            }\n            return this.__UrlSerializer_71;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_DeepLinker_72\", {\n        get: function () {\n            if ((this.__DeepLinker_72 == null)) {\n                (this.__DeepLinker_72 = import63.setupDeepLinker(this._App_11, this._UrlSerializer_71, this._Location_70, this._ModuleLoader_16, this.componentFactoryResolver));\n            }\n            return this.__DeepLinker_72;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_ModalController_73\", {\n        get: function () {\n            if ((this.__ModalController_73 == null)) {\n                (this.__ModalController_73 = new import25.ModalController(this._App_11, this._Config_8, this._DeepLinker_72));\n            }\n            return this.__ModalController_73;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_PickerController_74\", {\n        get: function () {\n            if ((this.__PickerController_74 == null)) {\n                (this.__PickerController_74 = new import26.PickerController(this._App_11, this._Config_8));\n            }\n            return this.__PickerController_74;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_PopoverController_75\", {\n        get: function () {\n            if ((this.__PopoverController_75 == null)) {\n                (this.__PopoverController_75 = new import27.PopoverController(this._App_11, this._Config_8, this._DeepLinker_72));\n            }\n            return this.__PopoverController_75;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_TapClick_76\", {\n        get: function () {\n            if ((this.__TapClick_76 == null)) {\n                (this.__TapClick_76 = new import28.TapClick(this._Config_8, this._Platform_7, this._DomController_9, this._App_11, this._GestureController_12));\n            }\n            return this.__TapClick_76;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_ToastController_77\", {\n        get: function () {\n            if ((this.__ToastController_77 == null)) {\n                (this.__ToastController_77 = new import29.ToastController(this._App_11, this._Config_8));\n            }\n            return this.__ToastController_77;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_TransitionController_78\", {\n        get: function () {\n            if ((this.__TransitionController_78 == null)) {\n                (this.__TransitionController_78 = new import30.TransitionController(this._Platform_7, this._Config_8));\n            }\n            return this.__TransitionController_78;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_Storage_80\", {\n        get: function () {\n            if ((this.__Storage_80 == null)) {\n                (this.__Storage_80 = import64.provideStorage(this._StorageConfigToken_79));\n            }\n            return this.__Storage_80;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_Geolocation_81\", {\n        get: function () {\n            if ((this.__Geolocation_81 == null)) {\n                (this.__Geolocation_81 = new import31.Geolocation());\n            }\n            return this.__Geolocation_81;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_StatusBar_82\", {\n        get: function () {\n            if ((this.__StatusBar_82 == null)) {\n                (this.__StatusBar_82 = new import32.StatusBar());\n            }\n            return this.__StatusBar_82;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_SplashScreen_83\", {\n        get: function () {\n            if ((this.__SplashScreen_83 == null)) {\n                (this.__SplashScreen_83 = new import33.SplashScreen());\n            }\n            return this.__SplashScreen_83;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_DeviceMotion_84\", {\n        get: function () {\n            if ((this.__DeviceMotion_84 == null)) {\n                (this.__DeviceMotion_84 = new import34.DeviceMotion());\n            }\n            return this.__DeviceMotion_84;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_Gyroscope_85\", {\n        get: function () {\n            if ((this.__Gyroscope_85 == null)) {\n                (this.__Gyroscope_85 = new import35.Gyroscope());\n            }\n            return this.__Gyroscope_85;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_SocialSharing_86\", {\n        get: function () {\n            if ((this.__SocialSharing_86 == null)) {\n                (this.__SocialSharing_86 = new import36.SocialSharing());\n            }\n            return this.__SocialSharing_86;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_Insomnia_87\", {\n        get: function () {\n            if ((this.__Insomnia_87 == null)) {\n                (this.__Insomnia_87 = new import37.Insomnia());\n            }\n            return this.__Insomnia_87;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_AndroidPermissions_88\", {\n        get: function () {\n            if ((this.__AndroidPermissions_88 == null)) {\n                (this.__AndroidPermissions_88 = new import38.AndroidPermissions());\n            }\n            return this.__AndroidPermissions_88;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_AppVersion_89\", {\n        get: function () {\n            if ((this.__AppVersion_89 == null)) {\n                (this.__AppVersion_89 = new import39.AppVersion());\n            }\n            return this.__AppVersion_89;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_CommonUtilsProvider_90\", {\n        get: function () {\n            if ((this.__CommonUtilsProvider_90 == null)) {\n                (this.__CommonUtilsProvider_90 = new import40.CommonUtilsProvider(this._ToastController_77, this._LoadingController_68, this._AlertController_63, this._AppVersion_89, this._Platform_7, this._Http_59));\n            }\n            return this.__CommonUtilsProvider_90;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_File_91\", {\n        get: function () {\n            if ((this.__File_91 == null)) {\n                (this.__File_91 = new import41.File());\n            }\n            return this.__File_91;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_InAppBrowser_92\", {\n        get: function () {\n            if ((this.__InAppBrowser_92 == null)) {\n                (this.__InAppBrowser_92 = new import42.InAppBrowser());\n            }\n            return this.__InAppBrowser_92;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_BLE_93\", {\n        get: function () {\n            if ((this.__BLE_93 == null)) {\n                (this.__BLE_93 = new import43.BLE());\n            }\n            return this.__BLE_93;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_SpeechRecognition_94\", {\n        get: function () {\n            if ((this.__SpeechRecognition_94 == null)) {\n                (this.__SpeechRecognition_94 = new import44.SpeechRecognition());\n            }\n            return this.__SpeechRecognition_94;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_DatabaseProvider_95\", {\n        get: function () {\n            if ((this.__DatabaseProvider_95 == null)) {\n                (this.__DatabaseProvider_95 = new import45.DatabaseProvider(this._ToastController_77, this._LoadingController_68, this._File_91, this._Storage_80, this._AlertController_63, this._CommonUtilsProvider_90, this.parent.get(import0.NgZone), this._Http_59, this._AngularFireDatabase_33, this._AngularFireAuth_34, this._FirebaseApp_32));\n            }\n            return this.__DatabaseProvider_95;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AppModuleInjector.prototype, \"_SensorsProvider_96\", {\n        get: function () {\n            if ((this.__SensorsProvider_96 == null)) {\n                (this.__SensorsProvider_96 = new import46.SensorsProvider(this._DeviceMotion_84, this._Gyroscope_85, this._AndroidPermissions_88, this._Geolocation_81, this._CommonUtilsProvider_90));\n            }\n            return this.__SensorsProvider_96;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    AppModuleInjector.prototype.createInternal = function () {\n        this._AngularFireModule_0 = new import2.AngularFireModule();\n        this._AngularFireDatabaseModule_1 = new import3.AngularFireDatabaseModule();\n        this._AngularFireAuthModule_2 = new import4.AngularFireAuthModule();\n        this._CommonModule_3 = new import5.CommonModule();\n        this._ErrorHandler_4 = new import6.IonicErrorHandler();\n        this._ConfigToken_5 = null;\n        this._PlatformConfigToken_6 = import65.providePlatformConfigs();\n        this._Platform_7 = import66.setupPlatform(this.parent.get(import12.DOCUMENT), this._PlatformConfigToken_6, this.parent.get(import0.NgZone));\n        this._Config_8 = import67.setupConfig(this._ConfigToken_5, this._Platform_7);\n        this._DomController_9 = new import7.DomController(this._Platform_7);\n        this._MenuController_10 = new import8.MenuController();\n        this._App_11 = new import9.App(this._Config_8, this._Platform_7, this._MenuController_10);\n        this._GestureController_12 = new import10.GestureController(this._App_11);\n        this._DeepLinkConfigToken_13 = null;\n        this._Compiler_14 = new import0.Compiler();\n        this._NgModuleLoader_15 = new import11.NgModuleLoader(this._Compiler_14);\n        this._ModuleLoader_16 = import68.provideModuleLoader(this._NgModuleLoader_15, this);\n        this._APP_INITIALIZER_17 = [\n            import0.o,\n            import12.c(this.parent.get(import12.NgProbeToken, null), this.parent.get(import0.NgProbeToken, null)),\n            import69.registerModeConfigs(this._Config_8),\n            import20.setupProvideEvents(this._Platform_7, this._DomController_9),\n            import28.setupTapClick(this._Config_8, this._Platform_7, this._DomController_9, this._App_11, this._GestureController_12),\n            import68.setupPreloading(this._Config_8, this._DeepLinkConfigToken_13, this._ModuleLoader_16, this.parent.get(import0.NgZone))\n        ];\n        this._ApplicationInitStatus_18 = new import0.ApplicationInitStatus(this._APP_INITIALIZER_17);\n        this._f_19 = new import0.f(this.parent.get(import0.NgZone), this.parent.get(import0.Console), this, this._ErrorHandler_4, this.componentFactoryResolver, this._ApplicationInitStatus_18);\n        this._ApplicationRef_20 = this._f_19;\n        this._ApplicationModule_21 = new import0.ApplicationModule(this._ApplicationRef_20);\n        this._BrowserModule_22 = new import12.BrowserModule(this.parent.get(import12.BrowserModule, null));\n        this._ba_23 = new import13.ba();\n        this._FormsModule_24 = new import13.FormsModule();\n        this._ReactiveFormsModule_25 = new import13.ReactiveFormsModule();\n        this._IonicModule_26 = new import14.IonicModule();\n        this._HttpModule_27 = new import15.HttpModule();\n        this._IonicStorageModule_28 = new import16.IonicStorageModule();\n        this._AppModule_29 = new import1.AppModule();\n        this._FirebaseAppConfigToken_30 = {\n            apiKey: 'AIzaSyCldDUKjFcG0YTS6Oj1n2kn0oT9cFQN878',\n            authDomain: 'tripdata-3eb84.firebaseapp.com',\n            databaseURL: 'https://tripdata-3eb84.firebaseio.com',\n            projectId: 'tripdata-3eb84',\n            storageBucket: 'tripdata-3eb84.appspot.com',\n            messagingSenderId: '329888799939'\n        };\n        this._FirebaseAppName_31 = undefined;\n        this._AppRootToken_60 = import70.MyApp;\n        this._APP_BASE_HREF_61 = '/';\n        this._StorageConfigToken_79 = {\n            name: '__tripDB',\n            driverOrder: [\n                'sqlite',\n                'websql',\n                'indexeddb'\n            ]\n        };\n        return this._AppModule_29;\n    };\n    AppModuleInjector.prototype.getInternal = function (token, notFoundResult) {\n        if ((token === import2.AngularFireModule)) {\n            return this._AngularFireModule_0;\n        }\n        if ((token === import3.AngularFireDatabaseModule)) {\n            return this._AngularFireDatabaseModule_1;\n        }\n        if ((token === import4.AngularFireAuthModule)) {\n            return this._AngularFireAuthModule_2;\n        }\n        if ((token === import5.CommonModule)) {\n            return this._CommonModule_3;\n        }\n        if ((token === import0.ErrorHandler)) {\n            return this._ErrorHandler_4;\n        }\n        if ((token === import67.ConfigToken)) {\n            return this._ConfigToken_5;\n        }\n        if ((token === import65.PlatformConfigToken)) {\n            return this._PlatformConfigToken_6;\n        }\n        if ((token === import66.Platform)) {\n            return this._Platform_7;\n        }\n        if ((token === import67.Config)) {\n            return this._Config_8;\n        }\n        if ((token === import7.DomController)) {\n            return this._DomController_9;\n        }\n        if ((token === import8.MenuController)) {\n            return this._MenuController_10;\n        }\n        if ((token === import9.App)) {\n            return this._App_11;\n        }\n        if ((token === import10.GestureController)) {\n            return this._GestureController_12;\n        }\n        if ((token === import62.DeepLinkConfigToken)) {\n            return this._DeepLinkConfigToken_13;\n        }\n        if ((token === import0.Compiler)) {\n            return this._Compiler_14;\n        }\n        if ((token === import11.NgModuleLoader)) {\n            return this._NgModuleLoader_15;\n        }\n        if ((token === import68.ModuleLoader)) {\n            return this._ModuleLoader_16;\n        }\n        if ((token === import0.APP_INITIALIZER)) {\n            return this._APP_INITIALIZER_17;\n        }\n        if ((token === import0.ApplicationInitStatus)) {\n            return this._ApplicationInitStatus_18;\n        }\n        if ((token === import0.f)) {\n            return this._f_19;\n        }\n        if ((token === import0.ApplicationRef)) {\n            return this._ApplicationRef_20;\n        }\n        if ((token === import0.ApplicationModule)) {\n            return this._ApplicationModule_21;\n        }\n        if ((token === import12.BrowserModule)) {\n            return this._BrowserModule_22;\n        }\n        if ((token === import13.ba)) {\n            return this._ba_23;\n        }\n        if ((token === import13.FormsModule)) {\n            return this._FormsModule_24;\n        }\n        if ((token === import13.ReactiveFormsModule)) {\n            return this._ReactiveFormsModule_25;\n        }\n        if ((token === import14.IonicModule)) {\n            return this._IonicModule_26;\n        }\n        if ((token === import15.HttpModule)) {\n            return this._HttpModule_27;\n        }\n        if ((token === import16.IonicStorageModule)) {\n            return this._IonicStorageModule_28;\n        }\n        if ((token === import1.AppModule)) {\n            return this._AppModule_29;\n        }\n        if ((token === import61.FirebaseAppConfigToken)) {\n            return this._FirebaseAppConfigToken_30;\n        }\n        if ((token === import2.FirebaseAppName)) {\n            return this._FirebaseAppName_31;\n        }\n        if ((token === import61.FirebaseApp)) {\n            return this._FirebaseApp_32;\n        }\n        if ((token === import71.AngularFireDatabase)) {\n            return this._AngularFireDatabase_33;\n        }\n        if ((token === import72.AngularFireAuth)) {\n            return this._AngularFireAuth_34;\n        }\n        if ((token === import0.LOCALE_ID)) {\n            return this._LOCALE_ID_35;\n        }\n        if ((token === import5.NgLocalization)) {\n            return this._NgLocalization_36;\n        }\n        if ((token === import0.APP_ID)) {\n            return this._APP_ID_37;\n        }\n        if ((token === import0.IterableDiffers)) {\n            return this._IterableDiffers_38;\n        }\n        if ((token === import0.KeyValueDiffers)) {\n            return this._KeyValueDiffers_39;\n        }\n        if ((token === import12.DomSanitizer)) {\n            return this._DomSanitizer_40;\n        }\n        if ((token === import0.Sanitizer)) {\n            return this._Sanitizer_41;\n        }\n        if ((token === import12.HAMMER_GESTURE_CONFIG)) {\n            return this._HAMMER_GESTURE_CONFIG_42;\n        }\n        if ((token === import12.EVENT_MANAGER_PLUGINS)) {\n            return this._EVENT_MANAGER_PLUGINS_43;\n        }\n        if ((token === import12.EventManager)) {\n            return this._EventManager_44;\n        }\n        if ((token === import12.DomSharedStylesHost)) {\n            return this._DomSharedStylesHost_45;\n        }\n        if ((token === import12.DomRendererFactory2)) {\n            return this._DomRendererFactory2_46;\n        }\n        if ((token === import0.RendererFactory2)) {\n            return this._RendererFactory2_47;\n        }\n        if ((token === import12.SharedStylesHost)) {\n            return this._SharedStylesHost_48;\n        }\n        if ((token === import0.Testability)) {\n            return this._Testability_49;\n        }\n        if ((token === import12.Meta)) {\n            return this._Meta_50;\n        }\n        if ((token === import12.Title)) {\n            return this._Title_51;\n        }\n        if ((token === import13.i)) {\n            return this._i_52;\n        }\n        if ((token === import13.FormBuilder)) {\n            return this._FormBuilder_53;\n        }\n        if ((token === import15.BrowserXhr)) {\n            return this._BrowserXhr_54;\n        }\n        if ((token === import15.ResponseOptions)) {\n            return this._ResponseOptions_55;\n        }\n        if ((token === import15.XSRFStrategy)) {\n            return this._XSRFStrategy_56;\n        }\n        if ((token === import15.XHRBackend)) {\n            return this._XHRBackend_57;\n        }\n        if ((token === import15.RequestOptions)) {\n            return this._RequestOptions_58;\n        }\n        if ((token === import15.Http)) {\n            return this._Http_59;\n        }\n        if ((token === import73.AppRootToken)) {\n            return this._AppRootToken_60;\n        }\n        if ((token === import5.APP_BASE_HREF)) {\n            return this._APP_BASE_HREF_61;\n        }\n        if ((token === import18.ActionSheetController)) {\n            return this._ActionSheetController_62;\n        }\n        if ((token === import19.AlertController)) {\n            return this._AlertController_63;\n        }\n        if ((token === import20.Events)) {\n            return this._Events_64;\n        }\n        if ((token === import21.Form)) {\n            return this._Form_65;\n        }\n        if ((token === import22.Haptic)) {\n            return this._Haptic_66;\n        }\n        if ((token === import23.Keyboard)) {\n            return this._Keyboard_67;\n        }\n        if ((token === import24.LoadingController)) {\n            return this._LoadingController_68;\n        }\n        if ((token === import5.LocationStrategy)) {\n            return this._LocationStrategy_69;\n        }\n        if ((token === import5.Location)) {\n            return this._Location_70;\n        }\n        if ((token === import62.UrlSerializer)) {\n            return this._UrlSerializer_71;\n        }\n        if ((token === import63.DeepLinker)) {\n            return this._DeepLinker_72;\n        }\n        if ((token === import25.ModalController)) {\n            return this._ModalController_73;\n        }\n        if ((token === import26.PickerController)) {\n            return this._PickerController_74;\n        }\n        if ((token === import27.PopoverController)) {\n            return this._PopoverController_75;\n        }\n        if ((token === import28.TapClick)) {\n            return this._TapClick_76;\n        }\n        if ((token === import29.ToastController)) {\n            return this._ToastController_77;\n        }\n        if ((token === import30.TransitionController)) {\n            return this._TransitionController_78;\n        }\n        if ((token === import64.StorageConfigToken)) {\n            return this._StorageConfigToken_79;\n        }\n        if ((token === import64.Storage)) {\n            return this._Storage_80;\n        }\n        if ((token === import31.Geolocation)) {\n            return this._Geolocation_81;\n        }\n        if ((token === import32.StatusBar)) {\n            return this._StatusBar_82;\n        }\n        if ((token === import33.SplashScreen)) {\n            return this._SplashScreen_83;\n        }\n        if ((token === import34.DeviceMotion)) {\n            return this._DeviceMotion_84;\n        }\n        if ((token === import35.Gyroscope)) {\n            return this._Gyroscope_85;\n        }\n        if ((token === import36.SocialSharing)) {\n            return this._SocialSharing_86;\n        }\n        if ((token === import37.Insomnia)) {\n            return this._Insomnia_87;\n        }\n        if ((token === import38.AndroidPermissions)) {\n            return this._AndroidPermissions_88;\n        }\n        if ((token === import39.AppVersion)) {\n            return this._AppVersion_89;\n        }\n        if ((token === import40.CommonUtilsProvider)) {\n            return this._CommonUtilsProvider_90;\n        }\n        if ((token === import41.File)) {\n            return this._File_91;\n        }\n        if ((token === import42.InAppBrowser)) {\n            return this._InAppBrowser_92;\n        }\n        if ((token === import43.BLE)) {\n            return this._BLE_93;\n        }\n        if ((token === import44.SpeechRecognition)) {\n            return this._SpeechRecognition_94;\n        }\n        if ((token === import45.DatabaseProvider)) {\n            return this._DatabaseProvider_95;\n        }\n        if ((token === import46.SensorsProvider)) {\n            return this._SensorsProvider_96;\n        }\n        return notFoundResult;\n    };\n    AppModuleInjector.prototype.destroyInternal = function () {\n        this._f_19.ngOnDestroy();\n        (this.__DomSharedStylesHost_45 && this._DomSharedStylesHost_45.ngOnDestroy());\n    };\n    return AppModuleInjector;\n}(import0.NgModuleInjector));\nexport var AppModuleNgFactory = new import0.NgModuleFactory(AppModuleInjector, import1.AppModule);\n//# sourceMappingURL=data:application/json;base64,eyJmaWxlIjoiL1VzZXJzL0FyanVuL3dpbnNoYXJlL2FyanVuL3Byb2plY3RzL3NlbnNvcmNvbGxlY3Qvc3JjL2FwcC9hcHAubW9kdWxlLm5nZmFjdG9yeS50cyIsInZlcnNpb24iOjMsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIm5nOi8vL1VzZXJzL0FyanVuL3dpbnNoYXJlL2FyanVuL3Byb2plY3RzL3NlbnNvcmNvbGxlY3Qvc3JjL2FwcC9hcHAubW9kdWxlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIiAiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzsifQ==\n//# sourceMappingURL=app.module.ngfactory.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ngfactory.ts","var map = {\n\t\"./af\": 197,\n\t\"./af.js\": 197,\n\t\"./ar\": 198,\n\t\"./ar-dz\": 199,\n\t\"./ar-dz.js\": 199,\n\t\"./ar-kw\": 200,\n\t\"./ar-kw.js\": 200,\n\t\"./ar-ly\": 201,\n\t\"./ar-ly.js\": 201,\n\t\"./ar-ma\": 202,\n\t\"./ar-ma.js\": 202,\n\t\"./ar-sa\": 203,\n\t\"./ar-sa.js\": 203,\n\t\"./ar-tn\": 204,\n\t\"./ar-tn.js\": 204,\n\t\"./ar.js\": 198,\n\t\"./az\": 205,\n\t\"./az.js\": 205,\n\t\"./be\": 206,\n\t\"./be.js\": 206,\n\t\"./bg\": 207,\n\t\"./bg.js\": 207,\n\t\"./bn\": 208,\n\t\"./bn.js\": 208,\n\t\"./bo\": 209,\n\t\"./bo.js\": 209,\n\t\"./br\": 210,\n\t\"./br.js\": 210,\n\t\"./bs\": 211,\n\t\"./bs.js\": 211,\n\t\"./ca\": 212,\n\t\"./ca.js\": 212,\n\t\"./cs\": 213,\n\t\"./cs.js\": 213,\n\t\"./cv\": 214,\n\t\"./cv.js\": 214,\n\t\"./cy\": 215,\n\t\"./cy.js\": 215,\n\t\"./da\": 216,\n\t\"./da.js\": 216,\n\t\"./de\": 217,\n\t\"./de-at\": 218,\n\t\"./de-at.js\": 218,\n\t\"./de-ch\": 219,\n\t\"./de-ch.js\": 219,\n\t\"./de.js\": 217,\n\t\"./dv\": 220,\n\t\"./dv.js\": 220,\n\t\"./el\": 221,\n\t\"./el.js\": 221,\n\t\"./en-au\": 222,\n\t\"./en-au.js\": 222,\n\t\"./en-ca\": 223,\n\t\"./en-ca.js\": 223,\n\t\"./en-gb\": 224,\n\t\"./en-gb.js\": 224,\n\t\"./en-ie\": 225,\n\t\"./en-ie.js\": 225,\n\t\"./en-nz\": 226,\n\t\"./en-nz.js\": 226,\n\t\"./eo\": 227,\n\t\"./eo.js\": 227,\n\t\"./es\": 228,\n\t\"./es-do\": 229,\n\t\"./es-do.js\": 229,\n\t\"./es.js\": 228,\n\t\"./et\": 230,\n\t\"./et.js\": 230,\n\t\"./eu\": 231,\n\t\"./eu.js\": 231,\n\t\"./fa\": 232,\n\t\"./fa.js\": 232,\n\t\"./fi\": 233,\n\t\"./fi.js\": 233,\n\t\"./fo\": 234,\n\t\"./fo.js\": 234,\n\t\"./fr\": 235,\n\t\"./fr-ca\": 236,\n\t\"./fr-ca.js\": 236,\n\t\"./fr-ch\": 237,\n\t\"./fr-ch.js\": 237,\n\t\"./fr.js\": 235,\n\t\"./fy\": 238,\n\t\"./fy.js\": 238,\n\t\"./gd\": 239,\n\t\"./gd.js\": 239,\n\t\"./gl\": 240,\n\t\"./gl.js\": 240,\n\t\"./gom-latn\": 241,\n\t\"./gom-latn.js\": 241,\n\t\"./he\": 242,\n\t\"./he.js\": 242,\n\t\"./hi\": 243,\n\t\"./hi.js\": 243,\n\t\"./hr\": 244,\n\t\"./hr.js\": 244,\n\t\"./hu\": 245,\n\t\"./hu.js\": 245,\n\t\"./hy-am\": 246,\n\t\"./hy-am.js\": 246,\n\t\"./id\": 247,\n\t\"./id.js\": 247,\n\t\"./is\": 248,\n\t\"./is.js\": 248,\n\t\"./it\": 249,\n\t\"./it.js\": 249,\n\t\"./ja\": 250,\n\t\"./ja.js\": 250,\n\t\"./jv\": 251,\n\t\"./jv.js\": 251,\n\t\"./ka\": 252,\n\t\"./ka.js\": 252,\n\t\"./kk\": 253,\n\t\"./kk.js\": 253,\n\t\"./km\": 254,\n\t\"./km.js\": 254,\n\t\"./kn\": 255,\n\t\"./kn.js\": 255,\n\t\"./ko\": 256,\n\t\"./ko.js\": 256,\n\t\"./ky\": 257,\n\t\"./ky.js\": 257,\n\t\"./lb\": 258,\n\t\"./lb.js\": 258,\n\t\"./lo\": 259,\n\t\"./lo.js\": 259,\n\t\"./lt\": 260,\n\t\"./lt.js\": 260,\n\t\"./lv\": 261,\n\t\"./lv.js\": 261,\n\t\"./me\": 262,\n\t\"./me.js\": 262,\n\t\"./mi\": 263,\n\t\"./mi.js\": 263,\n\t\"./mk\": 264,\n\t\"./mk.js\": 264,\n\t\"./ml\": 265,\n\t\"./ml.js\": 265,\n\t\"./mr\": 266,\n\t\"./mr.js\": 266,\n\t\"./ms\": 267,\n\t\"./ms-my\": 268,\n\t\"./ms-my.js\": 268,\n\t\"./ms.js\": 267,\n\t\"./my\": 269,\n\t\"./my.js\": 269,\n\t\"./nb\": 270,\n\t\"./nb.js\": 270,\n\t\"./ne\": 271,\n\t\"./ne.js\": 271,\n\t\"./nl\": 272,\n\t\"./nl-be\": 273,\n\t\"./nl-be.js\": 273,\n\t\"./nl.js\": 272,\n\t\"./nn\": 274,\n\t\"./nn.js\": 274,\n\t\"./pa-in\": 275,\n\t\"./pa-in.js\": 275,\n\t\"./pl\": 276,\n\t\"./pl.js\": 276,\n\t\"./pt\": 277,\n\t\"./pt-br\": 278,\n\t\"./pt-br.js\": 278,\n\t\"./pt.js\": 277,\n\t\"./ro\": 279,\n\t\"./ro.js\": 279,\n\t\"./ru\": 280,\n\t\"./ru.js\": 280,\n\t\"./sd\": 281,\n\t\"./sd.js\": 281,\n\t\"./se\": 282,\n\t\"./se.js\": 282,\n\t\"./si\": 283,\n\t\"./si.js\": 283,\n\t\"./sk\": 284,\n\t\"./sk.js\": 284,\n\t\"./sl\": 285,\n\t\"./sl.js\": 285,\n\t\"./sq\": 286,\n\t\"./sq.js\": 286,\n\t\"./sr\": 287,\n\t\"./sr-cyrl\": 288,\n\t\"./sr-cyrl.js\": 288,\n\t\"./sr.js\": 287,\n\t\"./ss\": 289,\n\t\"./ss.js\": 289,\n\t\"./sv\": 290,\n\t\"./sv.js\": 290,\n\t\"./sw\": 291,\n\t\"./sw.js\": 291,\n\t\"./ta\": 292,\n\t\"./ta.js\": 292,\n\t\"./te\": 293,\n\t\"./te.js\": 293,\n\t\"./tet\": 294,\n\t\"./tet.js\": 294,\n\t\"./th\": 295,\n\t\"./th.js\": 295,\n\t\"./tl-ph\": 296,\n\t\"./tl-ph.js\": 296,\n\t\"./tlh\": 297,\n\t\"./tlh.js\": 297,\n\t\"./tr\": 298,\n\t\"./tr.js\": 298,\n\t\"./tzl\": 299,\n\t\"./tzl.js\": 299,\n\t\"./tzm\": 300,\n\t\"./tzm-latn\": 301,\n\t\"./tzm-latn.js\": 301,\n\t\"./tzm.js\": 300,\n\t\"./uk\": 302,\n\t\"./uk.js\": 302,\n\t\"./ur\": 303,\n\t\"./ur.js\": 303,\n\t\"./uz\": 304,\n\t\"./uz-latn\": 305,\n\t\"./uz-latn.js\": 305,\n\t\"./uz.js\": 304,\n\t\"./vi\": 306,\n\t\"./vi.js\": 306,\n\t\"./x-pseudo\": 307,\n\t\"./x-pseudo.js\": 307,\n\t\"./yo\": 308,\n\t\"./yo.js\": 308,\n\t\"./zh-cn\": 309,\n\t\"./zh-cn.js\": 309,\n\t\"./zh-hk\": 310,\n\t\"./zh-hk.js\": 310,\n\t\"./zh-tw\": 311,\n\t\"./zh-tw.js\": 311\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 394;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/locale ^\\.\\/.*$\n// module id = 394\n// module chunks = 0"]}